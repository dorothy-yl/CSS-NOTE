<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSSå®½é«˜æ¯”è‡ªé€‚åº”å®¹å™¨æ•™å­¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        h1 {
            color: #764ba2;
            margin-bottom: 30px;
            text-align: center;
            font-size: 2.5rem;
        }

        h2 {
            color: #667eea;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .method-section {
            margin-bottom: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .demo-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .demo-title {
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 10px;
        }

        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            border: 1px solid #34495e;
            border-left: 4px solid #3498db;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.6;
        }

        /* æ–¹æ³•1: Padding-Top æŠ€å·§ */
        .ratio-padding-wrapper {
            width: 100%;
            position: relative;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
        }

        /* 16:9 æ¯”ä¾‹ */
        .ratio-16-9-padding {
            padding-top: 56.25%; /* 9/16 = 0.5625 */
        }

        /* 4:3 æ¯”ä¾‹ */
        .ratio-4-3-padding {
            padding-top: 75%; /* 3/4 = 0.75 */
        }

        /* 1:1 æ­£æ–¹å½¢ */
        .ratio-1-1-padding {
            padding-top: 100%;
        }

        .ratio-padding-content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
        }

        /* æ–¹æ³•2: Aspect-Ratio å±æ€§ */
        .ratio-aspect {
            width: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
        }

        .ratio-16-9-aspect {
            aspect-ratio: 16 / 9;
        }

        .ratio-4-3-aspect {
            aspect-ratio: 4 / 3;
        }

        .ratio-1-1-aspect {
            aspect-ratio: 1 / 1;
        }

        .ratio-21-9-aspect {
            aspect-ratio: 21 / 9;
        }

        /* æ–¹æ³•3: ä½¿ç”¨ä¼ªå…ƒç´  */
        .ratio-pseudo-wrapper {
            width: 100%;
            position: relative;
            background: linear-gradient(45deg, #48dbfb, #0abde3);
            overflow: hidden;
        }

        .ratio-pseudo-wrapper::before {
            content: '';
            display: block;
        }

        .ratio-16-9-pseudo::before {
            padding-top: 56.25%;
        }

        .ratio-4-3-pseudo::before {
            padding-top: 75%;
        }

        .ratio-pseudo-content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
        }

        /* æ–¹æ³•4: Grid å¸ƒå±€ */
        .ratio-grid {
            display: grid;
            width: 100%;
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .ratio-16-9-grid {
            grid-template-rows: minmax(0, calc(100vw * 9 / 16));
        }

        .ratio-grid-content {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
            overflow: hidden;
        }

        /* æ–¹æ³•5: CSSå˜é‡å®ç°åŠ¨æ€æ¯”ä¾‹ */
        .ratio-var {
            --aspect-ratio: 16/9;
            width: 100%;
            aspect-ratio: var(--aspect-ratio);
            background: linear-gradient(45deg, #fa709a, #fee140);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
            transition: aspect-ratio 0.3s ease;
        }

        /* å“åº”å¼è®¾è®¡ */
        .responsive-container {
            max-width: 600px;
            margin: 20px auto;
        }

        /* æ§åˆ¶æŒ‰é’®æ ·å¼ */
        .controls {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 8px 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #764ba2;
        }

        /* è§†é¢‘å®¹å™¨ç¤ºä¾‹ */
        .video-container {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }

        .video-wrapper {
            position: relative;
            padding-top: 56.25%;
            background: #000;
            border-radius: 10px;
            overflow: hidden;
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
        }

        /* å›¾ç‰‡å®¹å™¨ç¤ºä¾‹ */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .image-item {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #e0e0e0, #f5f5f5);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #666;
        }

        /* å…¼å®¹æ€§æç¤º */
        .compatibility-note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .compatibility-note h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        /* æ€§èƒ½å¯¹æ¯”è¡¨æ ¼ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background: #667eea;
            color: white;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        .check { color: #28a745; }
        .cross { color: #dc3545; }
    </style>
</head>
<body>
    <div class="container">
        <h1>CSS å®½é«˜æ¯”è‡ªé€‚åº”å®¹å™¨å®Œå…¨æŒ‡å—</h1>

        <div class="method-section">
            <h2>ğŸ“š ä»€ä¹ˆæ˜¯å®½é«˜æ¯”è‡ªé€‚åº”å®¹å™¨ï¼Ÿ</h2>
            <p>å®½é«˜æ¯”è‡ªé€‚åº”å®¹å™¨æ˜¯æŒ‡èƒ½å¤Ÿåœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹ä¿æŒå›ºå®šå®½é«˜æ¯”ä¾‹çš„å“åº”å¼å®¹å™¨ã€‚å¸¸è§åº”ç”¨åœºæ™¯åŒ…æ‹¬è§†é¢‘æ’­æ”¾å™¨ã€å›¾ç‰‡å±•ç¤ºã€å¡ç‰‡å¸ƒå±€ç­‰ã€‚</p>
        </div>

        <div class="method-section">
            <h2>æ–¹æ³•ä¸€ï¼šAspect-Ratio å±æ€§ï¼ˆç°ä»£æ¨èæ–¹æ¡ˆï¼‰</h2>
            <p>CSS3 æ–°å¢çš„ <code>aspect-ratio</code> å±æ€§æ˜¯æœ€ç®€æ´çš„è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒç›´æ¥è®¾ç½®å®½é«˜æ¯”ã€‚</p>

            <pre><code>/* åŸºæœ¬è¯­æ³• */
.container {
    width: 100%;
    aspect-ratio: 16 / 9;  /* å®½åº¦:é«˜åº¦ */
}

/* ä¹Ÿå¯ä»¥ä½¿ç”¨å°æ•° */
.container {
    aspect-ratio: 1.777;  /* 16/9 â‰ˆ 1.777 */
}</code></pre>

            <div class="demo-grid">
                <div class="demo-item">
                    <div class="demo-title">16:9 å®½å±æ¯”ä¾‹</div>
                    <div class="ratio-aspect ratio-16-9-aspect">16:9</div>
                </div>
                <div class="demo-item">
                    <div class="demo-title">4:3 ä¼ ç»Ÿæ¯”ä¾‹</div>
                    <div class="ratio-aspect ratio-4-3-aspect">4:3</div>
                </div>
                <div class="demo-item">
                    <div class="demo-title">1:1 æ­£æ–¹å½¢</div>
                    <div class="ratio-aspect ratio-1-1-aspect">1:1</div>
                </div>
                <div class="demo-item">
                    <div class="demo-title">21:9 è¶…å®½å±</div>
                    <div class="ratio-aspect ratio-21-9-aspect">21:9</div>
                </div>
            </div>
        </div>

        <div class="method-section">
            <h2>æ–¹æ³•äºŒï¼šPadding-Top ç™¾åˆ†æ¯”æŠ€å·§ï¼ˆç»å…¸æ–¹æ¡ˆï¼‰</h2>
            <p>åˆ©ç”¨ padding ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ å®½åº¦è®¡ç®—çš„ç‰¹æ€§æ¥å®ç°å›ºå®šæ¯”ä¾‹ã€‚</p>

            <pre><code>/* HTMLç»“æ„ */
&lt;div class="ratio-wrapper"&gt;
    &lt;div class="ratio-content"&gt;å†…å®¹&lt;/div&gt;
&lt;/div&gt;

/* CSSæ ·å¼ */
.ratio-wrapper {
    position: relative;
    width: 100%;
    padding-top: 56.25%;  /* 16:9 æ¯”ä¾‹ (9/16 = 0.5625) */
}

.ratio-content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}</code></pre>

            <div class="demo-grid">
                <div class="demo-item">
                    <div class="demo-title">16:9 è§†é¢‘æ¯”ä¾‹</div>
                    <div class="ratio-padding-wrapper ratio-16-9-padding">
                        <div class="ratio-padding-content">16:9</div>
                    </div>
                </div>
                <div class="demo-item">
                    <div class="demo-title">4:3 æ ‡å‡†æ¯”ä¾‹</div>
                    <div class="ratio-padding-wrapper ratio-4-3-padding">
                        <div class="ratio-padding-content">4:3</div>
                    </div>
                </div>
                <div class="demo-item">
                    <div class="demo-title">1:1 æ­£æ–¹å½¢</div>
                    <div class="ratio-padding-wrapper ratio-1-1-padding">
                        <div class="ratio-padding-content">1:1</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="method-section">
            <h2>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ä¼ªå…ƒç´ </h2>
            <p>é€šè¿‡ä¼ªå…ƒç´ åˆ›å»ºå ä½ç©ºé—´ï¼Œä¿æŒå®¹å™¨æ¯”ä¾‹ã€‚</p>

            <pre><code>/* CSSæ ·å¼ */
.ratio-container {
    position: relative;
    width: 100%;
    overflow: hidden;
}

.ratio-container::before {
    content: '';
    display: block;
    padding-top: 56.25%;  /* 16:9 æ¯”ä¾‹ */
}

.ratio-container .content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}</code></pre>

            <div class="demo-grid">
                <div class="demo-item">
                    <div class="demo-title">16:9 ä¼ªå…ƒç´ å®ç°</div>
                    <div class="ratio-pseudo-wrapper ratio-16-9-pseudo">
                        <div class="ratio-pseudo-content">ä¼ªå…ƒç´  16:9</div>
                    </div>
                </div>
                <div class="demo-item">
                    <div class="demo-title">4:3 ä¼ªå…ƒç´ å®ç°</div>
                    <div class="ratio-pseudo-wrapper ratio-4-3-pseudo">
                        <div class="ratio-pseudo-content">ä¼ªå…ƒç´  4:3</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="method-section">
            <h2>æ–¹æ³•å››ï¼šCSS å˜é‡åŠ¨æ€æ§åˆ¶</h2>
            <p>ä½¿ç”¨ CSS å˜é‡å¯ä»¥åŠ¨æ€è°ƒæ•´å®½é«˜æ¯”ï¼Œé€‚åˆéœ€è¦åŠ¨æ€æ”¹å˜æ¯”ä¾‹çš„åœºæ™¯ã€‚</p>

            <pre><code>/* CSSæ ·å¼ */
.dynamic-ratio {
    --ratio: 16/9;  /* é»˜è®¤æ¯”ä¾‹ */
    width: 100%;
    aspect-ratio: var(--ratio);
}

/* JavaScript åŠ¨æ€ä¿®æ”¹ */
element.style.setProperty('--ratio', '4/3');</code></pre>

            <div class="responsive-container">
                <div class="controls">
                    <button class="btn" onclick="changeRatio('16/9')">16:9</button>
                    <button class="btn" onclick="changeRatio('4/3')">4:3</button>
                    <button class="btn" onclick="changeRatio('1/1')">1:1</button>
                    <button class="btn" onclick="changeRatio('21/9')">21:9</button>
                </div>
                <div id="dynamicRatio" class="ratio-var">åŠ¨æ€æ¯”ä¾‹å®¹å™¨</div>
            </div>
        </div>

        <div class="method-section">
            <h2>æ–¹æ³•äº”ï¼šè§†å£å•ä½è®¡ç®—</h2>
            <p>ä½¿ç”¨è§†å£å•ä½ï¼ˆvwï¼‰ç»“åˆ calc() å‡½æ•°å®ç°å“åº”å¼æ¯”ä¾‹ã€‚</p>

            <pre><code>/* é™åˆ¶æœ€å¤§å®½åº¦çš„ 16:9 å®¹å™¨ */
.viewport-ratio {
    width: 100%;
    max-width: 90vw;
    height: calc(90vw * 9 / 16);
    max-height: 50vh;
}

/* è‡ªé€‚åº”å®¹å™¨ */
@media (max-width: 768px) {
    .viewport-ratio {
        height: calc(100vw * 9 / 16);
    }
}</code></pre>
        </div>

        <div class="method-section">
            <h2>ğŸ¯ å®é™…åº”ç”¨åœºæ™¯</h2>

            <h3>1. è§†é¢‘æ’­æ”¾å™¨å®¹å™¨</h3>
            <div class="video-container">
                <div class="video-wrapper">
                    <div class="video-placeholder">â–¶ï¸</div>
                </div>
            </div>

            <h3>2. å“åº”å¼å›¾ç‰‡ç½‘æ ¼</h3>
            <div class="image-grid">
                <div class="image-item">å›¾ç‰‡ 1:1</div>
                <div class="image-item">å›¾ç‰‡ 1:1</div>
                <div class="image-item">å›¾ç‰‡ 1:1</div>
                <div class="image-item">å›¾ç‰‡ 1:1</div>
            </div>
        </div>

        <div class="method-section">
            <h2>ğŸ“Š æ–¹æ³•å¯¹æ¯”</h2>
            <table>
                <thead>
                    <tr>
                        <th>æ–¹æ³•</th>
                        <th>æµè§ˆå™¨å…¼å®¹æ€§</th>
                        <th>ä»£ç ç®€æ´åº¦</th>
                        <th>çµæ´»æ€§</th>
                        <th>æ¨èåœºæ™¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>aspect-ratio</td>
                        <td>ç°ä»£æµè§ˆå™¨ <span class="check">âœ“</span></td>
                        <td>â­â­â­â­â­</td>
                        <td>é«˜</td>
                        <td>æ–°é¡¹ç›®é¦–é€‰</td>
                    </tr>
                    <tr>
                        <td>padding-top</td>
                        <td>æ‰€æœ‰æµè§ˆå™¨ <span class="check">âœ“</span></td>
                        <td>â­â­â­</td>
                        <td>ä¸­</td>
                        <td>å…¼å®¹æ€§è¦æ±‚é«˜çš„é¡¹ç›®</td>
                    </tr>
                    <tr>
                        <td>ä¼ªå…ƒç´ </td>
                        <td>æ‰€æœ‰æµè§ˆå™¨ <span class="check">âœ“</span></td>
                        <td>â­â­â­</td>
                        <td>ä¸­</td>
                        <td>ä¸éœ€è¦é¢å¤– DOM æ—¶</td>
                    </tr>
                    <tr>
                        <td>CSS å˜é‡</td>
                        <td>ç°ä»£æµè§ˆå™¨ <span class="check">âœ“</span></td>
                        <td>â­â­â­â­</td>
                        <td>å¾ˆé«˜</td>
                        <td>éœ€è¦åŠ¨æ€è°ƒæ•´æ¯”ä¾‹</td>
                    </tr>
                    <tr>
                        <td>è§†å£å•ä½</td>
                        <td>ç°ä»£æµè§ˆå™¨ <span class="check">âœ“</span></td>
                        <td>â­â­â­</td>
                        <td>é«˜</td>
                        <td>ç‰¹æ®Šå“åº”å¼éœ€æ±‚</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="compatibility-note">
            <h3>âš ï¸ å…¼å®¹æ€§æ³¨æ„äº‹é¡¹</h3>
            <ul>
                <li><strong>aspect-ratioï¼š</strong>éœ€è¦ Chrome 88+, Firefox 89+, Safari 15+</li>
                <li><strong>CSS å˜é‡ï¼š</strong>éœ€è¦ IE11 ä»¥ä¸Šç‰ˆæœ¬</li>
                <li><strong>Padding æŠ€å·§ï¼š</strong>æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒï¼Œæ˜¯æœ€å®‰å…¨çš„é€‰æ‹©</li>
                <li><strong>å»ºè®®ï¼š</strong>ä½¿ç”¨ aspect-ratio å¹¶æä¾› padding-top ä½œä¸ºé™çº§æ–¹æ¡ˆ</li>
            </ul>
        </div>

        <div class="method-section">
            <h2>ğŸ’¡ æœ€ä½³å®è·µå»ºè®®</h2>
            <ol>
                <li><strong>ä¼˜å…ˆä½¿ç”¨ aspect-ratioï¼š</strong>ä»£ç ç®€æ´ï¼Œæ€§èƒ½æœ€å¥½</li>
                <li><strong>æä¾›é™çº§æ–¹æ¡ˆï¼š</strong>ä¸ºæ—§æµè§ˆå™¨æä¾› padding-top å¤‡é€‰æ–¹æ¡ˆ</li>
                <li><strong>è€ƒè™‘å†…å®¹æº¢å‡ºï¼š</strong>æ·»åŠ  overflow: hidden é˜²æ­¢å†…å®¹æº¢å‡º</li>
                <li><strong>å“åº”å¼æ–­ç‚¹ï¼š</strong>åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹å¯èƒ½éœ€è¦è°ƒæ•´æ¯”ä¾‹</li>
                <li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong>é¿å…è¿‡åº¦åµŒå¥—ï¼Œå‡å°‘é‡æ’é‡ç»˜</li>
            </ol>
        </div>

        <div class="method-section">
            <h2>ğŸ”§ å®Œæ•´ç¤ºä¾‹ï¼šå“åº”å¼è§†é¢‘å®¹å™¨</h2>
            <pre><code>/* ç°ä»£æµè§ˆå™¨ + é™çº§æ–¹æ¡ˆ */
.video-responsive {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;

    /* ç°ä»£æµè§ˆå™¨ */
    aspect-ratio: 16 / 9;

    /* é™çº§æ–¹æ¡ˆï¼ˆä½¿ç”¨ @supportsï¼‰ */
    @supports not (aspect-ratio: 16 / 9) {
        position: relative;
        padding-top: 56.25%;
    }
}

.video-responsive iframe,
.video-responsive video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .video-responsive {
        aspect-ratio: 4 / 3;  /* ç§»åŠ¨ç«¯ä½¿ç”¨ 4:3 */
    }

    @supports not (aspect-ratio: 4 / 3) {
        padding-top: 75%;
    }
}</code></pre>
        </div>
    </div>

    <script>
        // åŠ¨æ€æ”¹å˜æ¯”ä¾‹æ¼”ç¤º
        function changeRatio(ratio) {
            const element = document.getElementById('dynamicRatio');
            element.style.setProperty('--aspect-ratio', ratio);
            element.textContent = `æ¯”ä¾‹: ${ratio}`;
        }

        // æ·»åŠ äº¤äº’æ•ˆæœ
        document.querySelectorAll('.demo-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 5px 20px rgba(0,0,0,0.2)';
            });

            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';
            });
        });
    </script>
</body>
</html>