<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº‹ä»¶å§”æ‰˜æ•™å­¦æ–‡æ¡£ - é¢è¯•è€ƒç‚¹è¯¦è§£</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        
        .highlight {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .interview-point {
            background-color: #e8f5e8;
            border-left: 4px solid #27ae60;
            padding: 15px;
            margin: 15px 0;
        }
        
        .interview-point h4 {
            color: #27ae60;
            margin-top: 0;
        }
        
        .demo-area {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background-color: #fafafa;
        }
        
        .demo-buttons {
            margin: 10px 0;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .list-item {
            background-color: #ecf0f1;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .list-item:hover {
            background-color: #d5dbdb;
        }
        
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pros, .cons {
            padding: 15px;
            border-radius: 5px;
        }
        
        .pros {
            background-color: #d5f4e6;
            border-left: 4px solid #27ae60;
        }
        
        .cons {
            background-color: #fadbd8;
            border-left: 4px solid #e74c3c;
        }
        
        .log-area {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            min-height: 100px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }
        
        .clear-log {
            background-color: #e74c3c;
        }
        
        .clear-log:hover {
            background-color: #c0392b;
        }
        
        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>äº‹ä»¶å§”æ‰˜æ•™å­¦æ–‡æ¡£ - é¢è¯•è€ƒç‚¹è¯¦è§£</h1>
        
        <h2>1. ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿ</h2>
        <div class="highlight">
            <p><strong>äº‹ä»¶å§”æ‰˜ï¼ˆEvent Delegationï¼‰</strong>æ˜¯ä¸€ç§åˆ©ç”¨äº‹ä»¶å†’æ³¡æœºåˆ¶çš„ç¼–ç¨‹æŠ€å·§ï¼Œå°†å­å…ƒç´ çš„äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šåˆ°çˆ¶å…ƒç´ ä¸Šï¼Œé€šè¿‡åˆ¤æ–­äº‹ä»¶çš„ç›®æ ‡å…ƒç´ æ¥æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p>
        </div>
        
        <h3>æ ¸å¿ƒåŸç†ï¼š</h3>
        <ul>
            <li>åˆ©ç”¨DOMäº‹ä»¶çš„<strong>å†’æ³¡æœºåˆ¶</strong></li>
            <li>åœ¨çˆ¶å…ƒç´ ä¸Šç›‘å¬äº‹ä»¶</li>
            <li>é€šè¿‡<code>event.target</code>åˆ¤æ–­å®é™…è§¦å‘äº‹ä»¶çš„å­å…ƒç´ </li>
            <li>æ ¹æ®ä¸åŒçš„å­å…ƒç´ æ‰§è¡Œä¸åŒçš„å¤„ç†é€»è¾‘</li>
        </ul>
        
        <h2>2. å®é™…æ¼”ç¤º</h2>
        
        <h3>ç¤ºä¾‹1ï¼šä¼ ç»Ÿæ–¹å¼ vs äº‹ä»¶å§”æ‰˜</h3>
        <div class="demo-area">
            <h4>ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸ºæ¯ä¸ªæŒ‰é’®ç»‘å®šäº‹ä»¶ï¼‰ï¼š</h4>
            <div id="traditional-demo">
                <button class="traditional-btn">æŒ‰é’®1</button>
                <button class="traditional-btn">æŒ‰é’®2</button>
                <button class="traditional-btn">æŒ‰é’®3</button>
                <button onclick="addTraditionalButton()">æ·»åŠ æ–°æŒ‰é’®</button>
            </div>
            
            <h4>äº‹ä»¶å§”æ‰˜æ–¹å¼ï¼ˆåœ¨çˆ¶å…ƒç´ ç»‘å®šäº‹ä»¶ï¼‰ï¼š</h4>
            <div id="delegation-demo">
                <button class="delegation-btn">æŒ‰é’®A</button>
                <button class="delegation-btn">æŒ‰é’®B</button>
                <button class="delegation-btn">æŒ‰é’®C</button>
                <button onclick="addDelegationButton()">æ·»åŠ æ–°æŒ‰é’®</button>
            </div>
            
            <button class="clear-log" onclick="clearLog()">æ¸…ç©ºæ—¥å¿—</button>
            <div id="log" class="log-area">ç‚¹å‡»ä¸Šé¢çš„æŒ‰é’®æŸ¥çœ‹æ•ˆæœ...</div>
        </div>
        
        <h3>ç¤ºä¾‹2ï¼šåŠ¨æ€åˆ—è¡¨æ“ä½œ</h3>
        <div class="demo-area">
            <div id="todo-list">
                <div class="list-item" data-id="1">ä»»åŠ¡1 <span class="delete-btn" data-action="delete">âŒ</span></div>
                <div class="list-item" data-id="2">ä»»åŠ¡2 <span class="delete-btn" data-action="delete">âŒ</span></div>
                <div class="list-item" data-id="3">ä»»åŠ¡3 <span class="delete-btn" data-action="delete">âŒ</span></div>
            </div>
            <button onclick="addTodoItem()">æ·»åŠ æ–°ä»»åŠ¡</button>
        </div>
        
        <h2>3. ä»£ç å®ç°</h2>
        
        <h3>ä¼ ç»Ÿæ–¹å¼ï¼š</h3>
        <div class="code-block">
// ä¼ ç»Ÿæ–¹å¼ - ä¸ºæ¯ä¸ªå…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶
document.querySelectorAll('.traditional-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        console.log('ä¼ ç»Ÿæ–¹å¼ï¼šç‚¹å‡»äº†', this.textContent);
    });
});

// é—®é¢˜ï¼šæ–°æ·»åŠ çš„å…ƒç´ æ²¡æœ‰äº‹ä»¶å¤„ç†å‡½æ•°
function addTraditionalButton() {
    const newBtn = document.createElement('button');
    newBtn.className = 'traditional-btn';
    newBtn.textContent = 'æ–°æŒ‰é’®' + Date.now();
    // éœ€è¦æ‰‹åŠ¨ä¸ºæ–°æŒ‰é’®ç»‘å®šäº‹ä»¶
    newBtn.addEventListener('click', function() {
        console.log('ä¼ ç»Ÿæ–¹å¼ï¼šç‚¹å‡»äº†', this.textContent);
    });
    document.getElementById('traditional-demo').appendChild(newBtn);
}
        </div>
        
        <h3>äº‹ä»¶å§”æ‰˜æ–¹å¼ï¼š</h3>
        <div class="code-block">
// äº‹ä»¶å§”æ‰˜ - åœ¨çˆ¶å…ƒç´ ç»‘å®šäº‹ä»¶
document.getElementById('delegation-demo').addEventListener('click', function(e) {
    if (e.target.classList.contains('delegation-btn')) {
        console.log('äº‹ä»¶å§”æ‰˜ï¼šç‚¹å‡»äº†', e.target.textContent);
    }
});

// ä¼˜åŠ¿ï¼šæ–°æ·»åŠ çš„å…ƒç´ è‡ªåŠ¨å…·æœ‰äº‹ä»¶å¤„ç†èƒ½åŠ›
function addDelegationButton() {
    const newBtn = document.createElement('button');
    newBtn.className = 'delegation-btn';
    newBtn.textContent = 'æ–°æŒ‰é’®' + Date.now();
    // ä¸éœ€è¦å•ç‹¬ç»‘å®šäº‹ä»¶ï¼Œè‡ªåŠ¨ç»§æ‰¿çˆ¶å…ƒç´ çš„å§”æ‰˜äº‹ä»¶
    document.getElementById('delegation-demo').appendChild(newBtn);
}
        </div>
        
        <h3>å¤æ‚äº‹ä»¶å§”æ‰˜ç¤ºä¾‹ï¼š</h3>
        <div class="code-block">
// å¤æ‚çš„äº‹ä»¶å§”æ‰˜ - å¤„ç†å¤šç§æ“ä½œ
document.getElementById('todo-list').addEventListener('click', function(e) {
    const target = e.target;
    const listItem = target.closest('.list-item');
    
    if (!listItem) return;
    
    const action = target.dataset.action;
    const itemId = listItem.dataset.id;
    
    switch(action) {
        case 'delete':
            listItem.remove();
            console.log('åˆ é™¤ä»»åŠ¡:', itemId);
            break;
        default:
            console.log('ç‚¹å‡»ä»»åŠ¡:', itemId);
            break;
    }
});
        </div>
        
        <h2>4. é¢è¯•è€ƒç‚¹è¯¦è§£</h2>
        
        <div class="interview-point">
            <h4>ğŸ¯ è€ƒç‚¹1ï¼šäº‹ä»¶å§”æ‰˜çš„å®šä¹‰å’ŒåŸç†</h4>
            <p><strong>é¢è¯•å®˜å¯èƒ½é—®ï¼š</strong>"ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿå®ƒçš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"</p>
            <p><strong>æ ‡å‡†ç­”æ¡ˆï¼š</strong></p>
            <ul>
                <li>äº‹ä»¶å§”æ‰˜æ˜¯åˆ©ç”¨äº‹ä»¶å†’æ³¡æœºåˆ¶ï¼Œå°†å­å…ƒç´ çš„äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šåˆ°çˆ¶å…ƒç´ ä¸Š</li>
                <li>å½“å­å…ƒç´ è§¦å‘äº‹ä»¶æ—¶ï¼Œäº‹ä»¶ä¼šå†’æ³¡åˆ°çˆ¶å…ƒç´ </li>
                <li>é€šè¿‡event.targetå¯ä»¥è·å–å®é™…è§¦å‘äº‹ä»¶çš„å…ƒç´ </li>
                <li>æ ¹æ®event.targetçš„ç‰¹å¾æ‰§è¡Œç›¸åº”çš„å¤„ç†é€»è¾‘</li>
            </ul>
        </div>
        
        <div class="interview-point">
            <h4>ğŸ¯ è€ƒç‚¹2ï¼šäº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹</h4>
            <div class="pros-cons">
                <div class="pros">
                    <h5>âœ… ä¼˜ç‚¹ï¼š</h5>
                    <ul>
                        <li><strong>å‡å°‘å†…å­˜æ¶ˆè€—ï¼š</strong>ä¸éœ€è¦ä¸ºæ¯ä¸ªå­å…ƒç´ ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°</li>
                        <li><strong>åŠ¨æ€ç»‘å®šï¼š</strong>æ–°å¢çš„å­å…ƒç´ è‡ªåŠ¨å…·æœ‰äº‹ä»¶å¤„ç†èƒ½åŠ›</li>
                        <li><strong>ç®€åŒ–ä»£ç ï¼š</strong>ç»Ÿä¸€çš„äº‹ä»¶å¤„ç†é€»è¾‘</li>
                        <li><strong>æé«˜æ€§èƒ½ï¼š</strong>å‡å°‘äº‹ä»¶ç›‘å¬å™¨çš„æ•°é‡</li>
                    </ul>
                </div>
                <div class="cons">
                    <h5>âŒ ç¼ºç‚¹ï¼š</h5>
                    <ul>
                        <li><strong>äº‹ä»¶ç±»å‹é™åˆ¶ï¼š</strong>åªèƒ½å¤„ç†å†’æ³¡äº‹ä»¶</li>
                        <li><strong>é€»è¾‘å¤æ‚ï¼š</strong>éœ€è¦åˆ¤æ–­äº‹ä»¶ç›®æ ‡</li>
                        <li><strong>è°ƒè¯•å›°éš¾ï¼š</strong>äº‹ä»¶å¤„ç†é€»è¾‘é›†ä¸­åœ¨çˆ¶å…ƒç´ </li>
                        <li><strong>æ€§èƒ½è€ƒè™‘ï¼š</strong>æ‰€æœ‰å­å…ƒç´ äº‹ä»¶éƒ½ä¼šå†’æ³¡åˆ°çˆ¶å…ƒç´ </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="interview-point">
            <h4>ğŸ¯ è€ƒç‚¹3ï¼šé€‚ç”¨åœºæ™¯</h4>
            <p><strong>é¢è¯•å®˜å¯èƒ½é—®ï¼š</strong>"ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Ÿ"</p>
            <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
            <ul>
                <li>åŠ¨æ€ç”Ÿæˆçš„å…ƒç´ ï¼ˆå¦‚åˆ—è¡¨é¡¹ã€è¡¨æ ¼è¡Œï¼‰</li>
                <li>å¤§é‡ç›¸ä¼¼å…ƒç´ éœ€è¦ç›¸åŒçš„äº‹ä»¶å¤„ç†</li>
                <li>éœ€è¦å‡å°‘å†…å­˜å ç”¨çš„åœºæ™¯</li>
                <li>çˆ¶å­å…ƒç´ éƒ½éœ€è¦å¤„ç†åŒä¸€ç±»å‹äº‹ä»¶</li>
            </ul>
        </div>
        
        <div class="interview-point">
            <h4>ğŸ¯ è€ƒç‚¹4ï¼šå®ç°ç»†èŠ‚</h4>
            <p><strong>å…³é”®APIå’Œå±æ€§ï¼š</strong></p>
            <ul>
                <li><code>event.target</code>ï¼šå®é™…è§¦å‘äº‹ä»¶çš„å…ƒç´ </li>
                <li><code>event.currentTarget</code>ï¼šç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°çš„å…ƒç´ </li>
                <li><code>element.closest()</code>ï¼šæŸ¥æ‰¾æœ€è¿‘çš„åŒ¹é…ç¥–å…ˆå…ƒç´ </li>
                <li><code>element.matches()</code>ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦åŒ¹é…é€‰æ‹©å™¨</li>
            </ul>
        </div>
        
        <div class="interview-point">
            <h4>ğŸ¯ è€ƒç‚¹5ï¼šå¸¸è§é¢è¯•é¢˜</h4>
            <p><strong>Q1ï¼š</strong>event.targetå’Œevent.currentTargetçš„åŒºåˆ«ï¼Ÿ</p>
            <p><strong>A1ï¼š</strong>targetæ˜¯å®é™…è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼ŒcurrentTargetæ˜¯ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°çš„å…ƒç´ </p>
            
            <p><strong>Q2ï¼š</strong>å¦‚ä½•é˜»æ­¢äº‹ä»¶å§”æ‰˜ï¼Ÿ</p>
            <p><strong>A2ï¼š</strong>ä½¿ç”¨event.stopPropagation()é˜»æ­¢äº‹ä»¶å†’æ³¡</p>
            
            <p><strong>Q3ï¼š</strong>å“ªäº›äº‹ä»¶ä¸èƒ½ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Ÿ</p>
            <p><strong>A3ï¼š</strong>ä¸å†’æ³¡çš„äº‹ä»¶ï¼Œå¦‚focusã€blurã€loadã€unloadç­‰</p>
        </div>
        
        <h2>5. æœ€ä½³å®è·µ</h2>
        <div class="highlight">
            <h3>æ¨èåšæ³•ï¼š</h3>
            <ul>
                <li>ä½¿ç”¨è¯­ä¹‰åŒ–çš„é€‰æ‹©å™¨åˆ¤æ–­ç›®æ ‡å…ƒç´ </li>
                <li>åˆç†ä½¿ç”¨dataå±æ€§å­˜å‚¨å…ƒç´ ä¿¡æ¯</li>
                <li>åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è¿›è¡Œå¿…è¦çš„éªŒè¯</li>
                <li>è€ƒè™‘ä½¿ç”¨closest()æ–¹æ³•å¤„ç†åµŒå¥—å…ƒç´ </li>
                <li>é€‚å½“ä½¿ç”¨preventDefault()å’ŒstopPropagation()</li>
            </ul>
        </div>
        
        <h2>6. æ€»ç»“</h2>
        <p>äº‹ä»¶å§”æ‰˜æ˜¯å‰ç«¯å¼€å‘ä¸­çš„é‡è¦æŠ€å·§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†åŠ¨æ€å†…å®¹å’Œå¤§é‡ç›¸ä¼¼å…ƒç´ æ—¶ã€‚æŒæ¡äº‹ä»¶å§”æ‰˜ä¸ä»…èƒ½æé«˜ä»£ç æ€§èƒ½ï¼Œè¿˜èƒ½ç®€åŒ–äº‹ä»¶ç®¡ç†é€»è¾‘ã€‚åœ¨é¢è¯•ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªé«˜é¢‘è€ƒç‚¹ï¼Œéœ€è¦æ·±å…¥ç†è§£å…¶åŸç†ã€ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚</p>
    </div>

    <script>
        let buttonCounter = 1;
        let todoCounter = 4;
        
        // ä¼ ç»Ÿæ–¹å¼ - ä¸ºæ¯ä¸ªæŒ‰é’®å•ç‹¬ç»‘å®šäº‹ä»¶
        document.querySelectorAll('.traditional-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                log('ä¼ ç»Ÿæ–¹å¼ï¼šç‚¹å‡»äº† ' + this.textContent);
            });
        });
        
        // äº‹ä»¶å§”æ‰˜æ–¹å¼ - åœ¨çˆ¶å…ƒç´ ç»‘å®šäº‹ä»¶
        document.getElementById('delegation-demo').addEventListener('click', function(e) {
            if (e.target.classList.contains('delegation-btn')) {
                log('äº‹ä»¶å§”æ‰˜ï¼šç‚¹å‡»äº† ' + e.target.textContent);
            }
        });
        
        // Todoåˆ—è¡¨äº‹ä»¶å§”æ‰˜
        document.getElementById('todo-list').addEventListener('click', function(e) {
            const target = e.target;
            const listItem = target.closest('.list-item');
            
            if (!listItem) return;
            
            const action = target.dataset.action;
            const itemId = listItem.dataset.id;
            
            if (action === 'delete') {
                listItem.remove();
                log('åˆ é™¤ä»»åŠ¡: ' + itemId);
            } else {
                log('ç‚¹å‡»ä»»åŠ¡: ' + itemId);
            }
        });
        
        function addTraditionalButton() {
            const newBtn = document.createElement('button');
            newBtn.className = 'traditional-btn';
            newBtn.textContent = 'æ–°æŒ‰é’®' + buttonCounter++;
            
            // ä¼ ç»Ÿæ–¹å¼éœ€è¦æ‰‹åŠ¨ä¸ºæ–°æŒ‰é’®ç»‘å®šäº‹ä»¶
            newBtn.addEventListener('click', function() {
                log('ä¼ ç»Ÿæ–¹å¼ï¼šç‚¹å‡»äº† ' + this.textContent);
            });
            
            const demo = document.getElementById('traditional-demo');
            demo.insertBefore(newBtn, demo.lastElementChild);
        }
        
        function addDelegationButton() {
            const newBtn = document.createElement('button');
            newBtn.className = 'delegation-btn';
            newBtn.textContent = 'æ–°æŒ‰é’®' + buttonCounter++;
            
            // äº‹ä»¶å§”æ‰˜æ–¹å¼ä¸éœ€è¦å•ç‹¬ç»‘å®šäº‹ä»¶
            const demo = document.getElementById('delegation-demo');
            demo.insertBefore(newBtn, demo.lastElementChild);
        }
        
        function addTodoItem() {
            const newItem = document.createElement('div');
            newItem.className = 'list-item';
            newItem.dataset.id = todoCounter;
            newItem.innerHTML = `ä»»åŠ¡${todoCounter} <span class="delete-btn" data-action="delete">âŒ</span>`;
            
            document.getElementById('todo-list').appendChild(newItem);
            todoCounter++;
        }
        
        function log(message) {
            const logArea = document.getElementById('log');
            const time = new Date().toLocaleTimeString();
            logArea.innerHTML += `[${time}] ${message}\n`;
            logArea.scrollTop = logArea.scrollHeight;
        }
        
        function clearLog() {
            document.getElementById('log').innerHTML = 'æ—¥å¿—å·²æ¸…ç©º...\n';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•äº‹ä»¶å§”æ‰˜æ•ˆæœ');
        });
    </script>
</body>
</html>





