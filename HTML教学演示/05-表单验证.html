<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡¨å•éªŒè¯å®Œæ•´æ•™å­¦ - HTML5 + JavaScript</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        nav {
            background: #2d3748;
            padding: 1rem 2rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        nav button {
            background: #4a5568;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        nav button:hover {
            background: #667eea;
            transform: translateY(-2px);
        }

        nav button.active {
            background: #667eea;
        }

        main {
            padding: 2rem;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .form-demo {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #333;
        }

        label span.required {
            color: #dc3545;
        }

        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        /* éªŒè¯çŠ¶æ€æ ·å¼ */
        input:valid:not(:placeholder-shown) {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        input:invalid:not(:focus):not(:placeholder-shown) {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .error-message {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }

        .success-message {
            color: #28a745;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }

        .form-group.error input {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .form-group.error .error-message {
            display: block;
        }

        .form-group.success input {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .form-group.success .success-message {
            display: block;
        }

        .code-demo {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: #e2e8f0;
            padding: 2rem;
            border-radius: 12px;
            margin: 1.5rem 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            overflow-x: auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .code-demo::before {
            content: 'CODE';
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            letter-spacing: 0.05em;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        }

        /* å¤åˆ¶æŒ‰é’®æ ·å¼ */
        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #e2e8f0;
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .copy-btn:hover {
            background: rgba(102, 126, 234, 0.3);
            border-color: #667eea;
            transform: translateY(-1px);
        }

        .copy-btn.copied {
            background: rgba(40, 167, 69, 0.3);
            border-color: #28a745;
        }

        /* ä»£ç è¯­æ³•é«˜äº®æ ·å¼ */
        .code-comment {
            color: #94a3b8;
            font-style: italic;
        }

        .code-keyword {
            color: #f472b6;
            font-weight: bold;
        }

        .code-string {
            color: #86efac;
        }

        .code-number {
            color: #fbbf24;
        }

        .code-function {
            color: #60a5fa;
        }

        .code-property {
            color: #c084fc;
        }

        .code-tag {
            color: #fb923c;
        }

        .code-attribute {
            color: #67e8f9;
        }

        /* ä»£ç å—æ»šåŠ¨æ¡ç¾åŒ– */
        .code-demo::-webkit-scrollbar {
            height: 8px;
        }

        .code-demo::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .code-demo::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .code-demo::-webkit-scrollbar-thumb:hover {
            background: #764ba2;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-right: 1rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn.btn-secondary {
            background: #6c757d;
        }

        .validation-rules {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }

        .validation-rules h4 {
            color: #856404;
            margin-bottom: 0.5rem;
        }

        .validation-rules ul {
            margin-left: 1.5rem;
            color: #856404;
        }

        .demo-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .demo-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .strength-meter {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .strength-meter-fill {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
        }

        .strength-weak { background: #dc3545; width: 33%; }
        .strength-medium { background: #ffc107; width: 66%; }
        .strength-strong { background: #28a745; width: 100%; }

        .checkbox-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            font-weight: normal;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-right: 0.5rem;
        }

        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“ è¡¨å•éªŒè¯å®Œæ•´æ•™å­¦</h1>
            <p>HTML5åŸç”ŸéªŒè¯ + JavaScriptè‡ªå®šä¹‰éªŒè¯ + æ­£åˆ™è¡¨è¾¾å¼</p>
        </header>

        <nav>
            <button class="nav-btn active" onclick="showSection('basic')">åŸºç¡€éªŒè¯</button>
            <button class="nav-btn" onclick="showSection('advanced')">é«˜çº§éªŒè¯</button>
            <button class="nav-btn" onclick="showSection('custom')">è‡ªå®šä¹‰éªŒè¯</button>
            <button class="nav-btn" onclick="showSection('regex')">æ­£åˆ™éªŒè¯</button>
            <button class="nav-btn" onclick="showSection('realworld')">å®æˆ˜æ¡ˆä¾‹</button>
        </nav>

        <main>
            <!-- åŸºç¡€éªŒè¯ -->
            <section id="basic" class="section active">
                <h2>ğŸ¯ HTML5 åŸºç¡€éªŒè¯</h2>

                <div class="validation-rules">
                    <h4>ğŸ“‹ HTML5 å†…ç½®éªŒè¯å±æ€§</h4>
                    <ul>
                        <li><strong>required</strong> - å¿…å¡«å­—æ®µ</li>
                        <li><strong>type</strong> - email, url, number, tel, dateç­‰</li>
                        <li><strong>pattern</strong> - æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼</li>
                        <li><strong>min/max</strong> - æ•°å€¼æˆ–æ—¥æœŸèŒƒå›´</li>
                        <li><strong>minlength/maxlength</strong> - å­—ç¬¦ä¸²é•¿åº¦é™åˆ¶</li>
                        <li><strong>step</strong> - æ•°å€¼æ­¥é•¿</li>
                    </ul>
                </div>

                <div class="form-demo">
                    <form id="basicForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="basic-email">
                                    é‚®ç®±åœ°å€ <span class="required">*</span>
                                </label>
                                <input type="email" id="basic-email"
                                       placeholder="user@example.com"
                                       required>
                                <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€</div>
                            </div>

                            <div class="form-group">
                                <label for="basic-url">ç½‘ç«™åœ°å€</label>
                                <input type="url" id="basic-url"
                                       placeholder="https://example.com">
                                <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„URL</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="basic-number">
                                    å¹´é¾„ (18-100) <span class="required">*</span>
                                </label>
                                <input type="number" id="basic-number"
                                       min="18" max="100"
                                       placeholder="è¯·è¾“å…¥å¹´é¾„"
                                       required>
                                <div class="error-message">å¹´é¾„å¿…é¡»åœ¨18åˆ°100ä¹‹é—´</div>
                            </div>

                            <div class="form-group">
                                <label for="basic-tel">ç”µè¯å·ç </label>
                                <input type="tel" id="basic-tel"
                                       pattern="1[3-9][0-9]{9}"
                                       placeholder="13812345678"
                                       title="è¯·è¾“å…¥11ä½æ‰‹æœºå·ç ">
                                <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="basic-date">
                                    å‡ºç”Ÿæ—¥æœŸ <span class="required">*</span>
                                </label>
                                <input type="date" id="basic-date"
                                       max="2006-01-01"
                                       required>
                                <div class="error-message">å¿…é¡»å¹´æ»¡18å²</div>
                            </div>

                            <div class="form-group">
                                <label for="basic-time">é¢„çº¦æ—¶é—´</label>
                                <input type="time" id="basic-time"
                                       min="09:00" max="18:00">
                                <div class="error-message">é¢„çº¦æ—¶é—´ä¸º9:00-18:00</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="basic-range">æ»¡æ„åº¦è¯„åˆ† (1-10)</label>
                            <input type="range" id="basic-range"
                                   min="1" max="10" value="5"
                                   oninput="this.nextElementSibling.textContent = this.value">
                            <span>5</span>
                        </div>

                        <button type="submit" class="btn">æäº¤è¡¨å•</button>
                        <button type="reset" class="btn btn-secondary">é‡ç½®</button>
                    </form>
                </div>

                <div class="code-demo">
<!-- HTML5 åŸºç¡€éªŒè¯ç¤ºä¾‹ -->
&lt;!-- é‚®ç®±éªŒè¯ --&gt;
&lt;input type="email" required&gt;

&lt;!-- æ•°å€¼èŒƒå›´éªŒè¯ --&gt;
&lt;input type="number" min="18" max="100" required&gt;

&lt;!-- ç”µè¯å·ç éªŒè¯ï¼ˆä½¿ç”¨æ­£åˆ™ï¼‰ --&gt;
&lt;input type="tel" pattern="1[3-9][0-9]{9}" title="è¯·è¾“å…¥11ä½æ‰‹æœºå·"&gt;

&lt;!-- æ—¥æœŸèŒƒå›´éªŒè¯ --&gt;
&lt;input type="date" max="2006-01-01" required&gt;

&lt;!-- æ—¶é—´èŒƒå›´éªŒè¯ --&gt;
&lt;input type="time" min="09:00" max="18:00"&gt;
                </div>
            </section>

            <!-- é«˜çº§éªŒè¯ -->
            <section id="advanced" class="section">
                <h2>ğŸš€ é«˜çº§éªŒè¯æŠ€å·§</h2>

                <div class="demo-card">
                    <h3>å¯†ç å¼ºåº¦éªŒè¯</h3>
                    <form id="advancedForm">
                        <div class="form-group">
                            <label for="password">å¯†ç ï¼ˆè‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼‰</label>
                            <input type="password" id="password"
                                   pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$"
                                   placeholder="è¾“å…¥å¯†ç "
                                   required>
                            <div class="strength-meter">
                                <div class="strength-meter-fill"></div>
                            </div>
                            <div class="error-message">å¯†ç å¿…é¡»è‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—</div>
                        </div>

                        <div class="form-group">
                            <label for="confirm-password">ç¡®è®¤å¯†ç </label>
                            <input type="password" id="confirm-password"
                                   placeholder="å†æ¬¡è¾“å…¥å¯†ç "
                                   required>
                            <div class="error-message">ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´</div>
                        </div>

                        <div class="form-group">
                            <label for="username">ç”¨æˆ·åï¼ˆ3-20ä½ï¼Œå­—æ¯å¼€å¤´ï¼‰</label>
                            <input type="text" id="username"
                                   pattern="^[a-zA-Z][a-zA-Z0-9_]{2,19}$"
                                   placeholder="è¾“å…¥ç”¨æˆ·å"
                                   required>
                            <div class="error-message">ç”¨æˆ·åå¿…é¡»3-20ä½ï¼Œä»¥å­—æ¯å¼€å¤´</div>
                        </div>

                        <div class="form-group">
                            <label for="credit-card">ä¿¡ç”¨å¡å·ï¼ˆ16ä½æ•°å­—ï¼‰</label>
                            <input type="text" id="credit-card"
                                   pattern="^[0-9]{4}\s?[0-9]{4}\s?[0-9]{4}\s?[0-9]{4}$"
                                   placeholder="1234 5678 9012 3456"
                                   maxlength="19">
                            <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„16ä½ä¿¡ç”¨å¡å·</div>
                        </div>

                        <div class="form-group">
                            <label for="cvv">CVVï¼ˆ3ä½æ•°å­—ï¼‰</label>
                            <input type="text" id="cvv"
                                   pattern="^[0-9]{3}$"
                                   placeholder="123"
                                   maxlength="3">
                            <div class="error-message">CVVå¿…é¡»æ˜¯3ä½æ•°å­—</div>
                        </div>

                        <button type="submit" class="btn">éªŒè¯å¹¶æäº¤</button>
                    </form>
                </div>

                <div class="code-demo">
// JavaScript å¯†ç å¼ºåº¦æ£€æµ‹
function checkPasswordStrength(password) {
    let strength = 0;

    // é•¿åº¦æ£€æŸ¥
    if (password.length >= 8) strength++;
    if (password.length >= 12) strength++;

    // åŒ…å«å­—ç¬¦ç±»å‹æ£€æŸ¥
    if (/[a-z]/.test(password)) strength++;
    if (/[A-Z]/.test(password)) strength++;
    if (/[0-9]/.test(password)) strength++;
    if (/[^a-zA-Z0-9]/.test(password)) strength++;

    // è¿”å›å¼ºåº¦ç­‰çº§
    if (strength < 3) return 'weak';
    if (strength < 5) return 'medium';
    return 'strong';
}
                </div>
            </section>

            <!-- è‡ªå®šä¹‰éªŒè¯ -->
            <section id="custom" class="section">
                <h2>âš™ï¸ JavaScript è‡ªå®šä¹‰éªŒè¯</h2>

                <div class="demo-card">
                    <h3>è‡ªå®šä¹‰éªŒè¯å‡½æ•°</h3>
                    <form id="customForm">
                        <div class="form-group">
                            <label for="custom-email">é‚®ç®±ï¼ˆç¦æ­¢QQé‚®ç®±ï¼‰</label>
                            <input type="email" id="custom-email"
                                   placeholder="user@example.com">
                            <div class="error-message">ä¸å…è®¸ä½¿ç”¨QQé‚®ç®±</div>
                        </div>

                        <div class="form-group">
                            <label for="id-card">èº«ä»½è¯å·ç </label>
                            <input type="text" id="id-card"
                                   placeholder="è¾“å…¥18ä½èº«ä»½è¯å·"
                                   maxlength="18">
                            <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„èº«ä»½è¯å·ç </div>
                        </div>

                        <div class="form-group">
                            <label for="custom-file">æ–‡ä»¶ä¸Šä¼ ï¼ˆä»…é™å›¾ç‰‡ï¼Œæœ€å¤§2MBï¼‰</label>
                            <input type="file" id="custom-file"
                                   accept="image/*">
                            <div class="error-message">è¯·ä¸Šä¼ å°äº2MBçš„å›¾ç‰‡æ–‡ä»¶</div>
                        </div>

                        <div class="form-group">
                            <label>å…´è¶£çˆ±å¥½ï¼ˆè‡³å°‘é€‰æ‹©2é¡¹ï¼‰</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="hobbies" value="reading"> é˜…è¯»</label>
                                <label><input type="checkbox" name="hobbies" value="sports"> è¿åŠ¨</label>
                                <label><input type="checkbox" name="hobbies" value="music"> éŸ³ä¹</label>
                                <label><input type="checkbox" name="hobbies" value="travel"> æ—…è¡Œ</label>
                                <label><input type="checkbox" name="hobbies" value="cooking"> çƒ¹é¥ª</label>
                            </div>
                            <div class="error-message">è¯·è‡³å°‘é€‰æ‹©2ä¸ªå…´è¶£çˆ±å¥½</div>
                        </div>

                        <div class="form-group">
                            <label for="custom-date">é¢„çº¦æ—¥æœŸï¼ˆä»…é™å·¥ä½œæ—¥ï¼‰</label>
                            <input type="date" id="custom-date">
                            <div class="error-message">åªèƒ½é€‰æ‹©å·¥ä½œæ—¥ï¼ˆå‘¨ä¸€è‡³å‘¨äº”ï¼‰</div>
                        </div>

                        <button type="submit" class="btn">æäº¤</button>
                    </form>
                </div>

                <div class="code-demo">
// è‡ªå®šä¹‰éªŒè¯å‡½æ•°ç¤ºä¾‹

// 1. èº«ä»½è¯å·éªŒè¯
function validateIDCard(idCard) {
    const reg = /^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;
    if (!reg.test(idCard)) return false;

    // æ ¡éªŒç éªŒè¯
    const weights = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
    const codes = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'];
    let sum = 0;
    for (let i = 0; i < 17; i++) {
        sum += parseInt(idCard[i]) * weights[i];
    }
    const checkCode = codes[sum % 11];
    return idCard[17].toUpperCase() === checkCode;
}

// 2. æ–‡ä»¶å¤§å°éªŒè¯
function validateFileSize(file, maxSize) {
    return file.size <= maxSize * 1024 * 1024; // maxSize in MB
}

// 3. å·¥ä½œæ—¥éªŒè¯
function isWeekday(date) {
    const day = date.getDay();
    return day !== 0 && day !== 6; // 0æ˜¯å‘¨æ—¥ï¼Œ6æ˜¯å‘¨å…­
}

// 4. è®¾ç½®è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯
input.setCustomValidity('è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯');
                </div>
            </section>

            <!-- æ­£åˆ™éªŒè¯ -->
            <section id="regex" class="section">
                <h2>ğŸ” æ­£åˆ™è¡¨è¾¾å¼éªŒè¯</h2>

                <div class="validation-rules">
                    <h4>ğŸ“š å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼</h4>
                </div>

                <div class="demo-card">
                    <h3>å¸¸ç”¨æ­£åˆ™éªŒè¯ç¤ºä¾‹</h3>
                    <form id="regexForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="regex-chinese">ä¸­æ–‡å§“åï¼ˆ2-10ä¸ªæ±‰å­—ï¼‰</label>
                                <input type="text" id="regex-chinese"
                                       pattern="^[\u4e00-\u9fa5]{2,10}$"
                                       placeholder="å¼ ä¸‰">
                                <div class="error-message">è¯·è¾“å…¥2-10ä¸ªä¸­æ–‡å­—ç¬¦</div>
                            </div>

                            <div class="form-group">
                                <label for="regex-email-domain">ä¼ä¸šé‚®ç®±ï¼ˆæŒ‡å®šåŸŸåï¼‰</label>
                                <input type="email" id="regex-email-domain"
                                       pattern="^[a-zA-Z0-9._%+-]+@company\.com$"
                                       placeholder="user@company.com">
                                <div class="error-message">å¿…é¡»ä½¿ç”¨@company.comé‚®ç®±</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="regex-ip">IPåœ°å€</label>
                                <input type="text" id="regex-ip"
                                       pattern="^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                                       placeholder="192.168.1.1">
                                <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„IPåœ°å€</div>
                            </div>

                            <div class="form-group">
                                <label for="regex-mac">MACåœ°å€</label>
                                <input type="text" id="regex-mac"
                                       pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"
                                       placeholder="00:1B:44:11:3A:B7">
                                <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„MACåœ°å€</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="regex-postcode">é‚®æ”¿ç¼–ç </label>
                                <input type="text" id="regex-postcode"
                                       pattern="^[0-9]{6}$"
                                       placeholder="100000"
                                       maxlength="6">
                                <div class="error-message">è¯·è¾“å…¥6ä½é‚®æ”¿ç¼–ç </div>
                            </div>

                            <div class="form-group">
                                <label for="regex-hex">åå…­è¿›åˆ¶é¢œè‰²å€¼</label>
                                <input type="text" id="regex-hex"
                                       pattern="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"
                                       placeholder="#FF5733 æˆ– #F57">
                                <div class="error-message">è¯·è¾“å…¥æœ‰æ•ˆçš„åå…­è¿›åˆ¶é¢œè‰²å€¼</div>
                            </div>
                        </div>

                        <button type="submit" class="btn">éªŒè¯</button>
                    </form>
                </div>

                <div class="code-demo">
// å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼é›†åˆ

const patterns = {
    // åŸºç¡€ç±»å‹
    email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
    url: /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,

    // ä¸­å›½æ‰‹æœºå·
    cnPhone: /^1[3-9]\d{9}$/,

    // ä¸­æ–‡å§“å
    cnName: /^[\u4e00-\u9fa5]{2,10}$/,

    // èº«ä»½è¯å·
    cnIdCard: /^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,

    // é“¶è¡Œå¡å·
    bankCard: /^[0-9]{16,19}$/,

    // é‚®æ”¿ç¼–ç 
    postCode: /^[0-9]{6}$/,

    // IPåœ°å€
    ipv4: /^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,

    // åå…­è¿›åˆ¶é¢œè‰²
    hexColor: /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,

    // æ—¥æœŸæ ¼å¼ YYYY-MM-DD
    date: /^\d{4}-\d{2}-\d{2}$/,

    // æ—¶é—´æ ¼å¼ HH:MM:SS
    time: /^([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/,

    // å¯†ç å¼ºåº¦ï¼ˆè‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ï¼‰
    strongPassword: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/
};

// ä½¿ç”¨ç¤ºä¾‹
function validate(value, type) {
    return patterns[type].test(value);
}
                </div>
            </section>

            <!-- å®æˆ˜æ¡ˆä¾‹ -->
            <section id="realworld" class="section">
                <h2>ğŸ’¼ å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´æ³¨å†Œè¡¨å•</h2>

                <div class="demo-card">
                    <h3>ç”¨æˆ·æ³¨å†Œè¡¨å•</h3>
                    <form id="registrationForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reg-username">
                                    ç”¨æˆ·å <span class="required">*</span>
                                </label>
                                <input type="text" id="reg-username"
                                       placeholder="3-20ä½ï¼Œå­—æ¯å¼€å¤´"
                                       required>
                                <div class="error-message"></div>
                                <div class="success-message">ç”¨æˆ·åå¯ç”¨</div>
                            </div>

                            <div class="form-group">
                                <label for="reg-email">
                                    é‚®ç®± <span class="required">*</span>
                                </label>
                                <input type="email" id="reg-email"
                                       placeholder="user@example.com"
                                       required>
                                <div class="error-message"></div>
                                <div class="success-message">é‚®ç®±æ ¼å¼æ­£ç¡®</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="reg-password">
                                    å¯†ç  <span class="required">*</span>
                                </label>
                                <input type="password" id="reg-password"
                                       placeholder="è‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—"
                                       required>
                                <div class="strength-meter">
                                    <div class="strength-meter-fill"></div>
                                </div>
                                <div class="error-message"></div>
                            </div>

                            <div class="form-group">
                                <label for="reg-confirm-password">
                                    ç¡®è®¤å¯†ç  <span class="required">*</span>
                                </label>
                                <input type="password" id="reg-confirm-password"
                                       placeholder="å†æ¬¡è¾“å…¥å¯†ç "
                                       required>
                                <div class="error-message"></div>
                                <div class="success-message">å¯†ç åŒ¹é…</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="reg-phone">
                                    æ‰‹æœºå· <span class="required">*</span>
                                </label>
                                <input type="tel" id="reg-phone"
                                       placeholder="è¾“å…¥11ä½æ‰‹æœºå·"
                                       required>
                                <div class="error-message"></div>
                                <div class="success-message">æ‰‹æœºå·æ ¼å¼æ­£ç¡®</div>
                            </div>

                            <div class="form-group">
                                <label for="reg-code">
                                    éªŒè¯ç  <span class="required">*</span>
                                </label>
                                <div style="display: flex; gap: 10px;">
                                    <input type="text" id="reg-code"
                                           placeholder="è¾“å…¥éªŒè¯ç "
                                           style="flex: 1;"
                                           required>
                                    <button type="button" class="btn" onclick="sendCode()" style="width: auto;">
                                        è·å–éªŒè¯ç 
                                    </button>
                                </div>
                                <div class="error-message"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="reg-idcard">èº«ä»½è¯å·</label>
                            <input type="text" id="reg-idcard"
                                   placeholder="è¾“å…¥18ä½èº«ä»½è¯å·ï¼ˆé€‰å¡«ï¼‰">
                            <div class="error-message"></div>
                            <div class="success-message">èº«ä»½è¯å·æ ¼å¼æ­£ç¡®</div>
                        </div>

                        <div class="form-group">
                            <label for="reg-address">è¯¦ç»†åœ°å€</label>
                            <textarea id="reg-address"
                                      rows="3"
                                      placeholder="è¯·è¾“å…¥è¯¦ç»†åœ°å€"></textarea>
                        </div>

                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="reg-agree" required>
                                æˆ‘å·²é˜…è¯»å¹¶åŒæ„ <a href="#">ç”¨æˆ·åè®®</a> å’Œ <a href="#">éšç§æ”¿ç­–</a>
                            </label>
                        </div>

                        <button type="submit" class="btn" id="submitBtn">ç«‹å³æ³¨å†Œ</button>
                        <button type="reset" class="btn btn-secondary">é‡ç½®è¡¨å•</button>
                    </form>
                </div>

                <div class="validation-rules">
                    <h4>âœ… éªŒè¯è§„åˆ™è¯´æ˜</h4>
                    <ul>
                        <li>ç”¨æˆ·åï¼š3-20ä½ï¼Œå¿…é¡»å­—æ¯å¼€å¤´ï¼Œå¯åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</li>
                        <li>å¯†ç ï¼šè‡³å°‘8ä½ï¼Œå¿…é¡»åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—</li>
                        <li>æ‰‹æœºå·ï¼šä¸­å›½å¤§é™†11ä½æ‰‹æœºå·</li>
                        <li>èº«ä»½è¯ï¼š18ä½èº«ä»½è¯å·ï¼Œå¸¦æ ¡éªŒä½éªŒè¯</li>
                        <li>å®æ—¶éªŒè¯ï¼šè¾“å…¥æ—¶ç«‹å³éªŒè¯å¹¶ç»™å‡ºåé¦ˆ</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <script>
        // ä»£ç é«˜äº®æ ¼å¼åŒ–å‡½æ•°
        function highlightCode(code) {
            // HTMLæ ‡ç­¾
            code = code.replace(/(&lt;\/?[\w\s="':\-\/]+&gt;)/g, '<span class="code-tag">$1</span>');

            // æ³¨é‡Š
            code = code.replace(/(\/\/[^\n]*)/g, '<span class="code-comment">$1</span>');
            code = code.replace(/(\/\*[\s\S]*?\*\/)/g, '<span class="code-comment">$1</span>');
            code = code.replace(/(&lt;!--[\s\S]*?--&gt;)/g, '<span class="code-comment">$1</span>');

            // å…³é”®å­—
            const keywords = ['function', 'const', 'let', 'var', 'if', 'else', 'return', 'for', 'while', 'new', 'this', 'typeof', 'instanceof', 'true', 'false', 'null', 'undefined'];
            keywords.forEach(keyword => {
                const regex = new RegExp(`\\b(${keyword})\\b`, 'g');
                code = code.replace(regex, '<span class="code-keyword">$1</span>');
            });

            // å­—ç¬¦ä¸²
            code = code.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g, '<span class="code-string">$&</span>');

            // æ•°å­—
            code = code.replace(/\b(\d+)\b/g, '<span class="code-number">$1</span>');

            // å‡½æ•°å
            code = code.replace(/(\w+)(?=\()/g, '<span class="code-function">$1</span>');

            // å±æ€§
            code = code.replace(/\.(\w+)/g, '.<span class="code-property">$1</span>');

            return code;
        }

        // åº”ç”¨ä»£ç é«˜äº®åˆ°æ‰€æœ‰ä»£ç å—
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.code-demo').forEach((block, index) => {
                // ä¿å­˜åŸå§‹å†…å®¹
                const originalContent = block.innerHTML;
                // å¦‚æœä¸åŒ…å«spanæ ‡ç­¾ï¼ˆæœªé«˜äº®ï¼‰ï¼Œåˆ™åº”ç”¨é«˜äº®
                if (!originalContent.includes('<span')) {
                    block.innerHTML = highlightCode(originalContent);
                }

                // æ·»åŠ å¤åˆ¶æŒ‰é’®
                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-btn';
                copyBtn.textContent = 'å¤åˆ¶';
                copyBtn.setAttribute('data-code-index', index);

                // ä¿å­˜åŸå§‹ä»£ç æ–‡æœ¬ï¼ˆå»é™¤HTMLæ ‡ç­¾ï¼‰
                const codeText = block.textContent || block.innerText;
                copyBtn.setAttribute('data-code', codeText);

                copyBtn.addEventListener('click', function() {
                    copyCode(this, codeText);
                });

                block.appendChild(copyBtn);
            });
        });

        // å¤åˆ¶ä»£ç å‡½æ•°
        function copyCode(button, code) {
            navigator.clipboard.writeText(code).then(() => {
                // æ›´æ”¹æŒ‰é’®æ–‡æœ¬å’Œæ ·å¼
                button.textContent = 'å·²å¤åˆ¶ï¼';
                button.classList.add('copied');

                // 2ç§’åæ¢å¤
                setTimeout(() => {
                    button.textContent = 'å¤åˆ¶';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                // é™çº§æ–¹æ¡ˆ
                const textarea = document.createElement('textarea');
                textarea.value = code;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);

                button.textContent = 'å·²å¤åˆ¶ï¼';
                button.classList.add('copied');

                setTimeout(() => {
                    button.textContent = 'å¤åˆ¶';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // åˆ‡æ¢å¯¼èˆª
        function showSection(sectionId) {
            // éšè—æ‰€æœ‰section
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„section
            document.getElementById(sectionId).classList.add('active');

            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // åŸºç¡€è¡¨å•éªŒè¯
        document.getElementById('basicForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('åŸºç¡€è¡¨å•éªŒè¯é€šè¿‡ï¼');
        });

        // å¯†ç å¼ºåº¦æ£€æµ‹
        document.getElementById('password')?.addEventListener('input', function(e) {
            const password = e.target.value;
            const strengthMeter = document.querySelector('.strength-meter-fill');

            let strength = 0;
            if (password.length >= 8) strength++;
            if (password.length >= 12) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^a-zA-Z0-9]/.test(password)) strength++;

            strengthMeter.className = 'strength-meter-fill';
            if (strength < 3) {
                strengthMeter.classList.add('strength-weak');
            } else if (strength < 5) {
                strengthMeter.classList.add('strength-medium');
            } else {
                strengthMeter.classList.add('strength-strong');
            }
        });

        // å¯†ç ç¡®è®¤éªŒè¯
        document.getElementById('confirm-password')?.addEventListener('input', function(e) {
            const password = document.getElementById('password').value;
            const confirmPassword = e.target.value;
            const formGroup = e.target.closest('.form-group');

            if (confirmPassword && password !== confirmPassword) {
                formGroup.classList.add('error');
                formGroup.classList.remove('success');
            } else if (confirmPassword && password === confirmPassword) {
                formGroup.classList.remove('error');
                formGroup.classList.add('success');
            }
        });

        // è‡ªå®šä¹‰éªŒè¯ - ç¦æ­¢QQé‚®ç®±
        document.getElementById('custom-email')?.addEventListener('input', function(e) {
            const email = e.target.value;
            const formGroup = e.target.closest('.form-group');

            if (email.includes('@qq.com')) {
                e.target.setCustomValidity('ä¸å…è®¸ä½¿ç”¨QQé‚®ç®±');
                formGroup.classList.add('error');
            } else {
                e.target.setCustomValidity('');
                formGroup.classList.remove('error');
            }
        });

        // èº«ä»½è¯å·éªŒè¯
        function validateIDCard(idCard) {
            const reg = /^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;
            if (!reg.test(idCard)) return false;

            const weights = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
            const codes = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'];
            let sum = 0;
            for (let i = 0; i < 17; i++) {
                sum += parseInt(idCard[i]) * weights[i];
            }
            const checkCode = codes[sum % 11];
            return idCard[17].toUpperCase() === checkCode;
        }

        document.getElementById('id-card')?.addEventListener('input', function(e) {
            const idCard = e.target.value;
            const formGroup = e.target.closest('.form-group');

            if (idCard.length === 18) {
                if (validateIDCard(idCard)) {
                    formGroup.classList.remove('error');
                    formGroup.classList.add('success');
                } else {
                    formGroup.classList.add('error');
                    formGroup.classList.remove('success');
                }
            } else {
                formGroup.classList.remove('error', 'success');
            }
        });

        // æ–‡ä»¶ä¸Šä¼ éªŒè¯
        document.getElementById('custom-file')?.addEventListener('change', function(e) {
            const file = e.target.files[0];
            const formGroup = e.target.closest('.form-group');

            if (file) {
                // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                if (!file.type.startsWith('image/')) {
                    formGroup.classList.add('error');
                    e.target.setCustomValidity('è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶');
                    return;
                }

                // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆ2MBï¼‰
                if (file.size > 2 * 1024 * 1024) {
                    formGroup.classList.add('error');
                    e.target.setCustomValidity('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡2MB');
                    return;
                }

                formGroup.classList.remove('error');
                e.target.setCustomValidity('');
            }
        });

        // å…´è¶£çˆ±å¥½è‡³å°‘é€‰æ‹©2é¡¹
        document.querySelectorAll('input[name="hobbies"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const checkedCount = document.querySelectorAll('input[name="hobbies"]:checked').length;
                const formGroup = checkbox.closest('.form-group');

                if (checkedCount < 2) {
                    formGroup.classList.add('error');
                } else {
                    formGroup.classList.remove('error');
                }
            });
        });

        // å·¥ä½œæ—¥éªŒè¯
        document.getElementById('custom-date')?.addEventListener('change', function(e) {
            const date = new Date(e.target.value);
            const day = date.getDay();
            const formGroup = e.target.closest('.form-group');

            if (day === 0 || day === 6) {
                formGroup.classList.add('error');
                e.target.setCustomValidity('åªèƒ½é€‰æ‹©å·¥ä½œæ—¥');
            } else {
                formGroup.classList.remove('error');
                e.target.setCustomValidity('');
            }
        });

        // ä¿¡ç”¨å¡å·æ ¼å¼åŒ–
        document.getElementById('credit-card')?.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s/g, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formattedValue;
        });

        // å®æˆ˜æ¡ˆä¾‹ - æ³¨å†Œè¡¨å•éªŒè¯
        const validators = {
            username: (value) => {
                if (value.length < 3 || value.length > 20) {
                    return 'ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä½ä¹‹é—´';
                }
                if (!/^[a-zA-Z]/.test(value)) {
                    return 'ç”¨æˆ·åå¿…é¡»ä»¥å­—æ¯å¼€å¤´';
                }
                if (!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(value)) {
                    return 'ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿';
                }
                return null;
            },
            email: (value) => {
                if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                    return 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€';
                }
                return null;
            },
            password: (value) => {
                if (value.length < 8) {
                    return 'å¯†ç é•¿åº¦è‡³å°‘8ä½';
                }
                if (!/(?=.*[a-z])/.test(value)) {
                    return 'å¯†ç å¿…é¡»åŒ…å«å°å†™å­—æ¯';
                }
                if (!/(?=.*[A-Z])/.test(value)) {
                    return 'å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯';
                }
                if (!/(?=.*\d)/.test(value)) {
                    return 'å¯†ç å¿…é¡»åŒ…å«æ•°å­—';
                }
                return null;
            },
            phone: (value) => {
                if (!/^1[3-9]\d{9}$/.test(value)) {
                    return 'è¯·è¾“å…¥æœ‰æ•ˆçš„11ä½æ‰‹æœºå·';
                }
                return null;
            },
            idCard: (value) => {
                if (value && !validateIDCard(value)) {
                    return 'è¯·è¾“å…¥æœ‰æ•ˆçš„èº«ä»½è¯å·';
                }
                return null;
            }
        };

        // å®æ—¶éªŒè¯
        document.getElementById('reg-username')?.addEventListener('input', function(e) {
            const formGroup = e.target.closest('.form-group');
            const error = validators.username(e.target.value);

            if (error) {
                formGroup.classList.add('error');
                formGroup.classList.remove('success');
                formGroup.querySelector('.error-message').textContent = error;
            } else {
                formGroup.classList.remove('error');
                formGroup.classList.add('success');
            }
        });

        document.getElementById('reg-email')?.addEventListener('input', function(e) {
            const formGroup = e.target.closest('.form-group');
            const error = validators.email(e.target.value);

            if (error) {
                formGroup.classList.add('error');
                formGroup.classList.remove('success');
                formGroup.querySelector('.error-message').textContent = error;
            } else {
                formGroup.classList.remove('error');
                formGroup.classList.add('success');
            }
        });

        document.getElementById('reg-password')?.addEventListener('input', function(e) {
            const password = e.target.value;
            const formGroup = e.target.closest('.form-group');
            const error = validators.password(password);
            const strengthMeter = formGroup.querySelector('.strength-meter-fill');

            if (error) {
                formGroup.classList.add('error');
                formGroup.querySelector('.error-message').textContent = error;
            } else {
                formGroup.classList.remove('error');
            }

            // æ›´æ–°å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨
            let strength = 0;
            if (password.length >= 8) strength++;
            if (password.length >= 12) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^a-zA-Z0-9]/.test(password)) strength++;

            strengthMeter.className = 'strength-meter-fill';
            if (strength < 3) {
                strengthMeter.classList.add('strength-weak');
            } else if (strength < 5) {
                strengthMeter.classList.add('strength-medium');
            } else {
                strengthMeter.classList.add('strength-strong');
            }

            // æ£€æŸ¥ç¡®è®¤å¯†ç 
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            if (confirmPassword) {
                checkPasswordMatch();
            }
        });

        function checkPasswordMatch() {
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            const formGroup = document.getElementById('reg-confirm-password').closest('.form-group');

            if (confirmPassword && password !== confirmPassword) {
                formGroup.classList.add('error');
                formGroup.classList.remove('success');
                formGroup.querySelector('.error-message').textContent = 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´';
            } else if (confirmPassword && password === confirmPassword) {
                formGroup.classList.remove('error');
                formGroup.classList.add('success');
            }
        }

        document.getElementById('reg-confirm-password')?.addEventListener('input', checkPasswordMatch);

        document.getElementById('reg-phone')?.addEventListener('input', function(e) {
            const formGroup = e.target.closest('.form-group');
            const error = validators.phone(e.target.value);

            if (error) {
                formGroup.classList.add('error');
                formGroup.classList.remove('success');
                formGroup.querySelector('.error-message').textContent = error;
            } else {
                formGroup.classList.remove('error');
                formGroup.classList.add('success');
            }
        });

        document.getElementById('reg-idcard')?.addEventListener('input', function(e) {
            const value = e.target.value;
            const formGroup = e.target.closest('.form-group');

            if (value) {
                const error = validators.idCard(value);
                if (error) {
                    formGroup.classList.add('error');
                    formGroup.classList.remove('success');
                    formGroup.querySelector('.error-message').textContent = error;
                } else {
                    formGroup.classList.remove('error');
                    formGroup.classList.add('success');
                }
            } else {
                formGroup.classList.remove('error', 'success');
            }
        });

        // å‘é€éªŒè¯ç 
        let codeTimer = null;
        function sendCode() {
            const phone = document.getElementById('reg-phone').value;
            if (!validators.phone(phone)) {
                const btn = event.target;
                btn.disabled = true;
                let seconds = 60;

                btn.textContent = `${seconds}ç§’åé‡å‘`;
                codeTimer = setInterval(() => {
                    seconds--;
                    if (seconds <= 0) {
                        clearInterval(codeTimer);
                        btn.disabled = false;
                        btn.textContent = 'è·å–éªŒè¯ç ';
                    } else {
                        btn.textContent = `${seconds}ç§’åé‡å‘`;
                    }
                }, 1000);

                // æ¨¡æ‹Ÿå‘é€éªŒè¯ç 
                alert('éªŒè¯ç å·²å‘é€åˆ°æ‚¨çš„æ‰‹æœºï¼ï¼ˆæ¨¡æ‹Ÿï¼š123456ï¼‰');
            } else {
                alert('è¯·å…ˆè¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·');
            }
        }

        // æ³¨å†Œè¡¨å•æäº¤
        document.getElementById('registrationForm')?.addEventListener('submit', function(e) {
            e.preventDefault();

            // éªŒè¯æ‰€æœ‰å¿…å¡«å­—æ®µ
            const requiredFields = [
                'reg-username', 'reg-email', 'reg-password',
                'reg-confirm-password', 'reg-phone', 'reg-code'
            ];

            let isValid = true;
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field.value) {
                    field.closest('.form-group').classList.add('error');
                    isValid = false;
                }
            });

            // æ£€æŸ¥æ˜¯å¦åŒæ„æ¡æ¬¾
            if (!document.getElementById('reg-agree').checked) {
                alert('è¯·å…ˆåŒæ„ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–');
                return;
            }

            // éªŒè¯éªŒè¯ç ï¼ˆæ¨¡æ‹Ÿï¼‰
            const code = document.getElementById('reg-code').value;
            if (code !== '123456') {
                alert('éªŒè¯ç é”™è¯¯ï¼ï¼ˆæ­£ç¡®éªŒè¯ç ï¼š123456ï¼‰');
                return;
            }

            if (isValid) {
                alert('æ³¨å†ŒæˆåŠŸï¼ğŸ‰\n\n' +
                      'ç”¨æˆ·åï¼š' + document.getElementById('reg-username').value + '\n' +
                      'é‚®ç®±ï¼š' + document.getElementById('reg-email').value + '\n' +
                      'æ‰‹æœºï¼š' + document.getElementById('reg-phone').value);
            }
        });

        // è¡¨å•é‡ç½®æ—¶æ¸…é™¤éªŒè¯çŠ¶æ€
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('reset', function() {
                form.querySelectorAll('.form-group').forEach(group => {
                    group.classList.remove('error', 'success');
                });
            });
        });

        console.log('ğŸ“ è¡¨å•éªŒè¯æ•™å­¦é¡µé¢åŠ è½½å®Œæˆï¼');
    </script>
</body>
</html>