# HTTPç¼“å­˜å’Œè·¨åŸŸç»å…¸é¢è¯•é¢˜

## ä¸€ã€å¼ºç¼“å­˜

### 1. ä»€ä¹ˆæ˜¯å¼ºç¼“å­˜ï¼Ÿå¼ºç¼“å­˜çš„å®ç°åŸç†ï¼Ÿ

**ç­”æ¡ˆï¼š**
å¼ºç¼“å­˜æ˜¯æŒ‡æµè§ˆå™¨ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è·å–èµ„æºï¼Œä¸éœ€è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚å½“å¼ºç¼“å­˜ç”Ÿæ•ˆæ—¶ï¼Œæµè§ˆå™¨ç›´æ¥è¿”å›200çŠ¶æ€ç ï¼ˆfrom cacheï¼‰ã€‚

**ä¸¤ç§å®ç°æ–¹å¼ï¼š**

**1. Expiresï¼ˆHTTP/1.0ï¼‰**
```http
# æœåŠ¡å™¨å“åº”å¤´
HTTP/1.1 200 OK
Expires: Wed, 21 Oct 2025 07:28:00 GMT
Content-Type: text/html

# ç¼ºç‚¹ï¼š
# 1. ä½¿ç”¨ç»å¯¹æ—¶é—´ï¼Œä¾èµ–å®¢æˆ·ç«¯æ—¶é—´
# 2. å®¢æˆ·ç«¯æ—¶é—´è¢«ä¿®æ”¹ä¼šå¯¼è‡´ç¼“å­˜å¤±æ•ˆ
# 3. å†™æ³•å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™
```

**2. Cache-Controlï¼ˆHTTP/1.1ï¼‰**
```http
# æœåŠ¡å™¨å“åº”å¤´
HTTP/1.1 200 OK
Cache-Control: max-age=31536000  # ç¼“å­˜ä¸€å¹´
Content-Type: text/css

# å¸¸ç”¨æŒ‡ä»¤ï¼š
# max-age=ç§’æ•°ï¼šç¼“å­˜æœ€å¤§æœ‰æ•ˆæ—¶é—´
# no-cacheï¼šéœ€è¦åå•†ç¼“å­˜éªŒè¯
# no-storeï¼šä¸ç¼“å­˜
# privateï¼šåªèƒ½è¢«æµè§ˆå™¨ç¼“å­˜
# publicï¼šå¯ä»¥è¢«ä»»ä½•ç¼“å­˜ï¼ˆåŒ…æ‹¬CDNï¼‰
# must-revalidateï¼šç¼“å­˜è¿‡æœŸåå¿…é¡»éªŒè¯
```

### 2. å¼ºç¼“å­˜çš„å¸¸è§é…ç½®åœºæ™¯

**åœºæ™¯1ï¼šé™æ€èµ„æºé•¿æœŸç¼“å­˜**
```javascript
// å¸¦hashçš„é™æ€èµ„æºï¼Œå¯ä»¥è®¾ç½®é•¿æœŸç¼“å­˜
app.use('/static', express.static('public', {
  setHeaders: (res, path) => {
    if (path.includes('.') && path.match(/\.[0-9a-f]{8}\./)) {
      // app.12345678.js è¿™ç§å¸¦hashçš„æ–‡ä»¶
      res.setHeader('Cache-Control', 'public, max-age=31536000, immutable');
    }
  }
}));
```

**åœºæ™¯2ï¼šHTMLæ–‡ä»¶ä¸ç¼“å­˜**
```javascript
// HTMLæ–‡ä»¶éœ€è¦æ¯æ¬¡æ£€æŸ¥æ›´æ–°
app.get('/*.html', (req, res) => {
  res.setHeader('Cache-Control', 'no-cache, no-store, must-revalidate');
  res.setHeader('Pragma', 'no-cache'); // HTTP/1.0å…¼å®¹
  res.setHeader('Expires', '0');
  res.sendFile(path.join(__dirname, 'index.html'));
});
```

**åœºæ™¯3ï¼šAPIæ¥å£ç¼“å­˜ç­–ç•¥**
```javascript
// APIæ•°æ®ç¼“å­˜5åˆ†é’Ÿ
app.get('/api/data', (req, res) => {
  res.setHeader('Cache-Control', 'private, max-age=300');
  res.json(data);
});

// ç”¨æˆ·ç›¸å…³æ¥å£ä¸ç¼“å­˜
app.get('/api/user', (req, res) => {
  res.setHeader('Cache-Control', 'no-store');
  res.json(userData);
});
```

### 3. å¼ºç¼“å­˜å¤±æ•ˆçš„åˆ¤æ–­æµç¨‹

```javascript
// æµè§ˆå™¨ç¼“å­˜åˆ¤æ–­æµç¨‹
function shouldUseCache(request, cachedResponse) {
  // 1. æ£€æŸ¥Cache-Control
  const cacheControl = cachedResponse.headers['cache-control'];
  if (cacheControl) {
    const maxAge = parseMaxAge(cacheControl);
    const age = Date.now() - cachedResponse.timestamp;
    if (age < maxAge * 1000) {
      return true; // ä½¿ç”¨å¼ºç¼“å­˜
    }
  }

  // 2. æ£€æŸ¥Expiresï¼ˆCache-Controlä¼˜å…ˆçº§æ›´é«˜ï¼‰
  const expires = cachedResponse.headers['expires'];
  if (expires && new Date(expires) > new Date()) {
    return true; // ä½¿ç”¨å¼ºç¼“å­˜
  }

  return false; // å¼ºç¼“å­˜å¤±æ•ˆï¼Œèµ°åå•†ç¼“å­˜
}
```

### 4. å¼ºç¼“å­˜çš„å¸¸è§é¢è¯•é¢˜

**Q1ï¼šExpireså’ŒCache-Controlçš„åŒºåˆ«ï¼Ÿ**
```javascript
// Expiresï¼šHTTP/1.0ï¼Œç»å¯¹æ—¶é—´
Expires: Wed, 21 Oct 2025 07:28:00 GMT

// Cache-Controlï¼šHTTP/1.1ï¼Œç›¸å¯¹æ—¶é—´
Cache-Control: max-age=86400

// ä¸¤è€…åŒæ—¶å­˜åœ¨æ—¶ï¼ŒCache-Controlä¼˜å…ˆçº§æ›´é«˜
```

**Q2ï¼šå¦‚ä½•å¤„ç†ç¼“å­˜æ›´æ–°é—®é¢˜ï¼Ÿ**
```javascript
// 1. æ–‡ä»¶ååŠ hash
// webpacké…ç½®
output: {
  filename: '[name].[contenthash:8].js'
}

// 2. ç‰ˆæœ¬å·æŸ¥è¯¢å‚æ•°
<link rel="stylesheet" href="/style.css?v=1.0.1">

// 3. HTML metaæ ‡ç­¾ï¼ˆä¸æ¨èï¼Œåªå¯¹HTMLæœ‰æ•ˆï¼‰
<meta http-equiv="Cache-Control" content="no-cache">
```

**Q3ï¼šprivateå’Œpublicçš„åŒºåˆ«ï¼Ÿ**
```javascript
// privateï¼šåªèƒ½è¢«æµè§ˆå™¨ç¼“å­˜
Cache-Control: private, max-age=300
// é€‚ç”¨åœºæ™¯ï¼šç”¨æˆ·ä¸ªäººæ•°æ®

// publicï¼šå¯ä»¥è¢«ä»»ä½•ä¸­é—´ä»£ç†ç¼“å­˜
Cache-Control: public, max-age=3600
// é€‚ç”¨åœºæ™¯ï¼šé™æ€èµ„æºã€å…¬å…±æ•°æ®
```

**Q4ï¼šno-cacheå’Œno-storeçš„åŒºåˆ«ï¼Ÿ**
```javascript
// no-cacheï¼šå¯ä»¥ç¼“å­˜ï¼Œä½†ä½¿ç”¨å‰å¿…é¡»éªŒè¯
Cache-Control: no-cache
// æ•ˆæœï¼šå¼ºåˆ¶èµ°åå•†ç¼“å­˜

// no-storeï¼šå®Œå…¨ä¸ç¼“å­˜
Cache-Control: no-store
// æ•ˆæœï¼šæ¯æ¬¡éƒ½è¯·æ±‚æœ€æ–°èµ„æº
```

## äºŒã€åå•†ç¼“å­˜

**ç­”æ¡ˆï¼š**
åå•†ç¼“å­˜æ˜¯HTTPç¼“å­˜æœºåˆ¶çš„ä¸€ç§ï¼Œå½“å¼ºç¼“å­˜å¤±æ•ˆæ—¶ï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ ¹æ®è¯·æ±‚å¤´ä¸­çš„ç¼“å­˜æ ‡è¯†æ¥å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚

**å®ç°åŸç†ï¼š**
1. æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶æºå¸¦ç¼“å­˜æ ‡è¯†ï¼ˆIf-Modified-Since æˆ– If-None-Matchï¼‰
2. æœåŠ¡å™¨æ¯”è¾ƒç¼“å­˜æ ‡è¯†ä¸èµ„æºå½“å‰çŠ¶æ€
3. å¦‚æœèµ„æºæœªå˜åŒ–ï¼Œè¿”å›304çŠ¶æ€ç ï¼Œæµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜
4. å¦‚æœèµ„æºå·²å˜åŒ–ï¼Œè¿”å›200çŠ¶æ€ç å’Œæ–°çš„èµ„æºå†…å®¹

**ä¸¤ç§åå•†ç¼“å­˜æ–¹å¼ï¼š**

1. **Last-Modified / If-Modified-Since**
```http
# é¦–æ¬¡è¯·æ±‚å“åº”å¤´
HTTP/1.1 200 OK
Last-Modified: Wed, 21 Oct 2015 07:28:00 GMT
Cache-Control: no-cache

# å†æ¬¡è¯·æ±‚è¯·æ±‚å¤´
GET /api/data HTTP/1.1
If-Modified-Since: Wed, 21 Oct 2015 07:28:00 GMT

# æœåŠ¡å™¨å“åº”
HTTP/1.1 304 Not Modified
```

2. **ETag / If-None-Match**
```http
# é¦–æ¬¡è¯·æ±‚å“åº”å¤´
HTTP/1.1 200 OK
ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"
Cache-Control: no-cache

# å†æ¬¡è¯·æ±‚è¯·æ±‚å¤´
GET /api/data HTTP/1.1
If-None-Match: "33a64df551425fcc55e4d42a148795d9f25f89d4"

# æœåŠ¡å™¨å“åº”
HTTP/1.1 304 Not Modified
```

### 2. Last-Modifiedå’ŒETagçš„åŒºåˆ«ï¼Ÿ

**ç­”æ¡ˆï¼š**

| ç‰¹æ€§ | Last-Modified | ETag |
|------|---------------|------|
| **ç²¾åº¦** | ç§’çº§ç²¾åº¦ | ä»»æ„ç²¾åº¦ |
| **æ€§èƒ½** | æ€§èƒ½æ›´å¥½ | éœ€è¦è®¡ç®—å“ˆå¸Œå€¼ |
| **åˆ†å¸ƒå¼** | ä¸é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿ | é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿ |
| **æ–‡ä»¶å˜åŒ–** | åªæ£€æµ‹å†…å®¹å˜åŒ– | æ£€æµ‹å†…å®¹å’Œå…ƒæ•°æ®å˜åŒ– |
| **å®ç°å¤æ‚åº¦** | ç®€å• | ç›¸å¯¹å¤æ‚ |

**ETagçš„ä¼˜åŠ¿ï¼š**
1. å¯ä»¥æ£€æµ‹æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œå³ä½¿ä¿®æ”¹æ—¶é—´ç›¸åŒ
2. æ”¯æŒåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œé¿å…æ—¶é—´åŒæ­¥é—®é¢˜
3. å¯ä»¥æ£€æµ‹æ–‡ä»¶å…ƒæ•°æ®å˜åŒ–ï¼ˆå¦‚æƒé™ï¼‰

**Last-Modifiedçš„ä¼˜åŠ¿ï¼š**
1. å®ç°ç®€å•ï¼Œæ€§èƒ½å¼€é”€å°
2. äººç±»å¯è¯»ï¼Œä¾¿äºè°ƒè¯•

### 3. å¼ºç¼“å­˜ vs åå•†ç¼“å­˜å¯¹æ¯”

**ç­”æ¡ˆï¼š**

| å¯¹æ¯”é¡¹ | å¼ºç¼“å­˜ | åå•†ç¼“å­˜ |
|--------|--------|----------|
| **æ˜¯å¦å‘é€è¯·æ±‚** | ä¸å‘é€è¯·æ±‚ | å‘é€è¯·æ±‚ |
| **çŠ¶æ€ç ** | 200 (from cache) | 304 (Not Modified) |
| **å®ç°æ–¹å¼** | Expiresã€Cache-Control | Last-Modified/If-Modified-Sinceã€ETag/If-None-Match |
| **ä¼˜å…ˆçº§** | ä¼˜å…ˆçº§é«˜ | å¼ºç¼“å­˜å¤±æ•ˆåæ‰ä½¿ç”¨ |
| **ç½‘ç»œå¼€é”€** | æ—  | æœ‰è¯·æ±‚ä½†æ— å“åº”ä½“ |
| **é€‚ç”¨åœºæ™¯** | é™æ€èµ„æºã€ä¸å¸¸å˜åŒ–çš„æ–‡ä»¶ | éœ€è¦å®æ—¶æ€§çš„èµ„æº |

**ç¼“å­˜å†³ç­–æµç¨‹ï¼š**
```javascript
// æµè§ˆå™¨ç¼“å­˜å†³ç­–è¿‡ç¨‹
function getCachedResource(url) {
  const cache = getCache(url);

  // 1. å…ˆåˆ¤æ–­å¼ºç¼“å­˜
  if (cache && isStrongCacheValid(cache)) {
    return cache.data; // 200 from cache
  }

  // 2. å¼ºç¼“å­˜å¤±æ•ˆï¼Œåˆ¤æ–­åå•†ç¼“å­˜
  if (cache && cache.etag) {
    const response = fetch(url, {
      headers: {
        'If-None-Match': cache.etag,
        'If-Modified-Since': cache.lastModified
      }
    });

    if (response.status === 304) {
      return cache.data; // ä½¿ç”¨ç¼“å­˜
    }
  }

  // 3. ç¼“å­˜éƒ½å¤±æ•ˆï¼Œè·å–æ–°èµ„æº
  return fetchNewResource(url);
}
```

**æœ€ä½³å®è·µç»„åˆï¼š**
```javascript
// é™æ€èµ„æºï¼šå¼ºç¼“å­˜ + æ–‡ä»¶hash
app.use('/static', (req, res) => {
  // app.a3b4c5d6.js
  res.setHeader('Cache-Control', 'public, max-age=31536000');
});

// HTMLæ–‡ä»¶ï¼šåå•†ç¼“å­˜
app.get('/*.html', (req, res) => {
  res.setHeader('Cache-Control', 'no-cache');
  res.setHeader('ETag', generateETag(content));
  res.setHeader('Last-Modified', lastModified);
});

// APIæ¥å£ï¼šçŸ­æ—¶é—´å¼ºç¼“å­˜ + åå•†ç¼“å­˜
app.get('/api/data', (req, res) => {
  res.setHeader('Cache-Control', 'private, max-age=60');
  res.setHeader('ETag', generateETag(data));
});
```

### 4. åå•†ç¼“å­˜çš„ç»å…¸é¢è¯•é¢˜åœºæ™¯ï¼Ÿ

**ç­”æ¡ˆï¼š**

**åœºæ™¯1ï¼šæ–‡ä»¶å†…å®¹æœªå˜åŒ–ï¼Œä½†ä¿®æ”¹æ—¶é—´å˜åŒ–**
```javascript
// é—®é¢˜ï¼šæ–‡ä»¶å†…å®¹ç›¸åŒï¼Œä½†touchå‘½ä»¤ä¿®æ”¹äº†æ—¶é—´
// Last-Modifiedä¼šè®¤ä¸ºæ–‡ä»¶å·²å˜åŒ–ï¼Œå¯¼è‡´ä¸å¿…è¦çš„ä¸‹è½½
// ETagå¯ä»¥æ­£ç¡®è¯†åˆ«å†…å®¹æœªå˜åŒ–

// è§£å†³æ–¹æ¡ˆï¼šä¼˜å…ˆä½¿ç”¨ETagï¼ŒLast-Modifiedä½œä¸ºå¤‡é€‰
if (request.headers['if-none-match'] === currentETag) {
  return 304; // ä½¿ç”¨ç¼“å­˜
} else if (request.headers['if-modified-since'] === lastModified) {
  return 304; // ä½¿ç”¨ç¼“å­˜
} else {
  return 200; // è¿”å›æ–°å†…å®¹
}
```

**åœºæ™¯2ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜**
```javascript
// é—®é¢˜ï¼šå¤šå°æœåŠ¡å™¨æ—¶é—´ä¸åŒæ­¥
// è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ETagè€Œä¸æ˜¯Last-Modified

// æœåŠ¡å™¨A
const etagA = generateETag(content); // "abc123"

// æœåŠ¡å™¨B  
const etagB = generateETag(content); // "abc123" (ç›¸åŒå†…å®¹)

// å³ä½¿æ—¶é—´ä¸åŒæ­¥ï¼ŒETagä¹Ÿèƒ½æ­£ç¡®åˆ¤æ–­
```

**åœºæ™¯3ï¼šCDNè¾¹ç¼˜èŠ‚ç‚¹çš„ç¼“å­˜ç­–ç•¥**
```javascript
// CDNèŠ‚ç‚¹ç¼“å­˜ç­–ç•¥
app.get('/api/data', (req, res) => {
  const etag = generateETag(data);
  const lastModified = new Date(fileStats.mtime).toUTCString();
  
  // è®¾ç½®ç¼“å­˜å¤´
  res.set({
    'ETag': etag,
    'Last-Modified': lastModified,
    'Cache-Control': 'no-cache' // å¼ºåˆ¶åå•†ç¼“å­˜
  });
  
  // æ£€æŸ¥åå•†ç¼“å­˜
  if (req.headers['if-none-match'] === etag) {
    return res.status(304).end();
  }
  
  if (req.headers['if-modified-since'] === lastModified) {
    return res.status(304).end();
  }
  
  res.json(data);
});
```

## äºŒã€è·¨åŸŸé—®é¢˜

### 1. ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Ÿ

**ç­”æ¡ˆï¼š**
è·¨åŸŸæ˜¯æŒ‡æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ï¼Œå®ƒæ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥é€ æˆçš„ã€‚

**åŒæºç­–ç•¥é™åˆ¶ï¼š**
- åè®®ç›¸åŒï¼ˆhttp/httpsï¼‰
- åŸŸåç›¸åŒ
- ç«¯å£ç›¸åŒ

**è·¨åŸŸåœºæ™¯ç¤ºä¾‹ï¼š**
```javascript
// åŒæºï¼šhttp://localhost:3000
// è·¨åŸŸï¼šhttps://localhost:3000 (åè®®ä¸åŒ)
// è·¨åŸŸï¼šhttp://localhost:8080 (ç«¯å£ä¸åŒ)  
// è·¨åŸŸï¼šhttp://api.example.com (åŸŸåä¸åŒ)
```

**ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥ï¼š**
1. **é˜²æ­¢CSRFæ”»å‡»**ï¼šæ¶æ„ç½‘ç«™æ— æ³•è·å–ç”¨æˆ·åœ¨å…¶ä»–ç½‘ç«™çš„æ•°æ®
2. **ä¿æŠ¤ç”¨æˆ·éšç§**ï¼šé˜²æ­¢æ¶æ„ç½‘ç«™è¯»å–ç”¨æˆ·æ•æ„Ÿä¿¡æ¯
3. **ç»´æŠ¤æ•°æ®å®‰å…¨**ï¼šé˜²æ­¢æ¶æ„ç½‘ç«™ç¯¡æ”¹å…¶ä»–ç½‘ç«™çš„æ•°æ®

### 2. è·¨åŸŸçš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ

**ç­”æ¡ˆï¼š**

**1. CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰**

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**
- **å®šä¹‰**ï¼šCORSæ˜¯W3Cæ ‡å‡†ï¼Œé€šè¿‡æœåŠ¡å™¨è®¾ç½®å“åº”å¤´æ¥å‘Šè¯‰æµè§ˆå™¨å…è®¸å“ªäº›è·¨åŸŸè¯·æ±‚
- **æ ¸å¿ƒåŸç†**ï¼šæœåŠ¡ç«¯åœ¨å“åº”å¤´ä¸­æ·»åŠ Access-Control-*å­—æ®µï¼Œæµè§ˆå™¨æ®æ­¤åˆ¤æ–­æ˜¯å¦å…è®¸è·¨åŸŸ
- **ä¸»è¦å“åº”å¤´**ï¼š
  - `Access-Control-Allow-Origin`ï¼šå…è®¸çš„æº
  - `Access-Control-Allow-Methods`ï¼šå…è®¸çš„HTTPæ–¹æ³•
  - `Access-Control-Allow-Headers`ï¼šå…è®¸çš„è¯·æ±‚å¤´
  - `Access-Control-Allow-Credentials`ï¼šæ˜¯å¦å…è®¸æºå¸¦Cookie
  - `Access-Control-Max-Age`ï¼šé¢„æ£€è¯·æ±‚ç¼“å­˜æ—¶é—´
- **ä¼˜ç‚¹**ï¼š
  - æ”¯æŒæ‰€æœ‰HTTPæ–¹æ³•
  - å®‰å…¨å¯æ§ï¼Œå¯ç²¾ç¡®é…ç½®
  - æ˜¯ç°ä»£æµè§ˆå™¨æ¨èçš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ
- **ç¼ºç‚¹**ï¼š
  - éœ€è¦æœåŠ¡ç«¯é…åˆè®¾ç½®
  - è€ç‰ˆæœ¬æµè§ˆå™¨ä¸æ”¯æŒï¼ˆIE10ä»¥ä¸‹ï¼‰

```javascript
// æœåŠ¡ç«¯è®¾ç½®CORSå¤´
app.use((req, res, next) => {
  res.header('Access-Control-Allow-Origin', '*'); // å…è®¸æ‰€æœ‰åŸŸå
  res.header('Access-Control-Allow-Methods', 'GET,POST,PUT,DELETE,OPTIONS');
  res.header('Access-Control-Allow-Headers', 'Content-Type,Authorization');
  res.header('Access-Control-Allow-Credentials', 'true'); // å…è®¸æºå¸¦cookie

  // é¢„æ£€è¯·æ±‚å¤„ç†
  if (req.method === 'OPTIONS') {
    res.sendStatus(200);
  } else {
    next();
  }
});

// å®¢æˆ·ç«¯è¯·æ±‚
fetch('http://api.example.com/data', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer token'
  },
  credentials: 'include', // æºå¸¦cookie
  body: JSON.stringify(data)
});
```

**2. JSONPï¼ˆJSON with Paddingï¼‰**

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**
- **åŸç†**ï¼šåˆ©ç”¨`<script>`æ ‡ç­¾ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„ç‰¹ç‚¹ï¼ŒåŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾è¯·æ±‚è·¨åŸŸèµ„æº
- **å®ç°æ­¥éª¤**ï¼š
  1. å®¢æˆ·ç«¯å®šä¹‰å›è°ƒå‡½æ•°
  2. åˆ›å»ºscriptæ ‡ç­¾ï¼ŒsrcæŒ‡å‘è·¨åŸŸAPIå¹¶ä¼ é€’å›è°ƒå‡½æ•°å
  3. æœåŠ¡ç«¯è¿”å›å‡½æ•°è°ƒç”¨å½¢å¼çš„æ•°æ®
  4. æµè§ˆå™¨è‡ªåŠ¨æ‰§è¡Œè¿”å›çš„JavaScriptä»£ç 
- **ä¼˜ç‚¹**ï¼š
  - å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒè€ç‰ˆæœ¬æµè§ˆå™¨
  - å®ç°ç®€å•ï¼Œä¸éœ€è¦é¢å¤–é…ç½®
- **ç¼ºç‚¹**ï¼š
  - åªæ”¯æŒGETè¯·æ±‚
  - å­˜åœ¨å®‰å…¨éšæ‚£ï¼ˆXSSæ”»å‡»ï¼‰
  - é”™è¯¯å¤„ç†å›°éš¾
  - éœ€è¦æœåŠ¡ç«¯é…åˆ

```javascript
// å®¢æˆ·ç«¯
function jsonp(url, callback) {
  const script = document.createElement('script');
  const callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());

  window[callbackName] = function(data) {
    callback(data);
    document.body.removeChild(script);
    delete window[callbackName];
  };

  script.src = url + '?callback=' + callbackName;
  document.body.appendChild(script);
}

// ä½¿ç”¨
jsonp('http://api.example.com/data?callback=handleData', function(data) {
  console.log(data);
});

// æœåŠ¡ç«¯
app.get('/data', (req, res) => {
  const data = { message: 'Hello World' };
  const callback = req.query.callback;
  res.send(`${callback}(${JSON.stringify(data)});`);
});
```

**3. ä»£ç†æœåŠ¡å™¨**

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**
- **åŸç†**ï¼šåŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„é™åˆ¶ï¼ŒæœåŠ¡å™¨ä¹‹é—´æ²¡æœ‰è·¨åŸŸé™åˆ¶ã€‚é€šè¿‡åŒåŸŸçš„ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚
- **å®ç°æ–¹å¼**ï¼š
  1. å¼€å‘ç¯å¢ƒï¼šwebpack-dev-serverã€viteç­‰å¼€å‘æœåŠ¡å™¨çš„proxyé…ç½®
  2. ç”Ÿäº§ç¯å¢ƒï¼šNginxåå‘ä»£ç†
  3. Node.jsä¸­é—´å±‚ä»£ç†
- **å·¥ä½œæµç¨‹**ï¼š
  1. å‰ç«¯è¯·æ±‚åŒåŸŸçš„ä»£ç†æ¥å£
  2. ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚åˆ°ç›®æ ‡æœåŠ¡å™¨
  3. ç›®æ ‡æœåŠ¡å™¨è¿”å›æ•°æ®ç»™ä»£ç†æœåŠ¡å™¨
  4. ä»£ç†æœåŠ¡å™¨è¿”å›æ•°æ®ç»™å‰ç«¯
- **ä¼˜ç‚¹**ï¼š
  - å‰ç«¯æ— éœ€ä»»ä½•ä¿®æ”¹
  - å¯ä»¥çµæ´»å¤„ç†è¯·æ±‚å’Œå“åº”
  - å¯ä»¥éšè—çœŸå®çš„æœåŠ¡å™¨åœ°å€
- **ç¼ºç‚¹**ï¼š
  - éœ€è¦é¢å¤–çš„ä»£ç†æœåŠ¡å™¨
  - å¢åŠ äº†è¯·æ±‚çš„å»¶è¿Ÿ

```javascript
// webpack devServerä»£ç†
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://api.example.com',
        changeOrigin: true,
        pathRewrite: {
          '^/api': ''
        }
      }
    }
  }
};

// nginxä»£ç†
server {
  listen 80;
  server_name localhost;

  location /api/ {
    proxy_pass http://api.example.com/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }
}
```

**4. postMessage**

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**
- **ä½œç”¨**ï¼šHTML5æ–°å¢APIï¼Œç”¨äºä¸åŒæºçš„çª—å£é—´å®‰å…¨é€šä¿¡
- **é€‚ç”¨åœºæ™¯**ï¼š
  - é¡µé¢ä¸iframeä¹‹é—´çš„é€šä¿¡
  - é¡µé¢ä¸å¼¹å‡ºçª—å£çš„é€šä¿¡
  - å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡
- **APIä½¿ç”¨**ï¼š
  - å‘é€ï¼š`targetWindow.postMessage(data, targetOrigin)`
  - æ¥æ”¶ï¼š`window.addEventListener('message', handler)`
- **å®‰å…¨æ€§**ï¼š
  - å¿…é¡»éªŒè¯`event.origin`ç¡®ä¿æ¶ˆæ¯æ¥æºå¯ä¿¡
  - æŒ‡å®šæ˜ç¡®çš„`targetOrigin`è€Œéä½¿ç”¨'*'
- **ä¼˜ç‚¹**ï¼š
  - å®‰å…¨å¯é ï¼Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒ
  - å¯ä»¥ä¼ é€’ç»“æ„åŒ–æ•°æ®
- **ç¼ºç‚¹**ï¼š
  - åªèƒ½ç”¨äºçª—å£é—´é€šä¿¡
  - IE8/9åªæ”¯æŒå­—ç¬¦ä¸²æ•°æ®

```javascript
// çˆ¶é¡µé¢
window.addEventListener('message', function(event) {
  if (event.origin !== 'http://trusted-domain.com') return;
  console.log('æ”¶åˆ°æ¶ˆæ¯:', event.data);
});

// å­é¡µé¢ï¼ˆiframeï¼‰
parent.postMessage('Hello Parent', 'http://parent-domain.com');
```

**5. document.domain**

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**
- **ä½œç”¨**ï¼šé€šè¿‡è®¾ç½®ç›¸åŒçš„document.domainå®ç°ä¸åŒå­åŸŸä¹‹é—´çš„è·¨åŸŸ
- **é™åˆ¶æ¡ä»¶**ï¼š
  - åªèƒ½ç”¨äºäºŒçº§åŸŸåç›¸åŒçš„æƒ…å†µ
  - å¦‚ï¼ša.example.com å’Œ b.example.com
  - ä¸èƒ½è·¨åè®®ï¼ˆhttpå’Œhttpsä¸è¡Œï¼‰
- **åŸç†**ï¼šå°†document.domainè®¾ç½®ä¸ºç›¸åŒçš„ä¸»åŸŸï¼Œæµè§ˆå™¨å°±è®¤ä¸ºå®ƒä»¬åŒæº
- **ä½¿ç”¨æ­¥éª¤**ï¼š
  1. ä¸¤ä¸ªé¡µé¢éƒ½è®¾ç½®`document.domain = 'example.com'`
  2. ä¹‹åå¯ä»¥äº’ç›¸è®¿é—®DOMå’ŒJavaScriptå¯¹è±¡
- **ä¼˜ç‚¹**ï¼š
  - å®ç°ç®€å•
  - é€‚åˆå…¬å¸å†…éƒ¨ä¸åŒå­åŸŸçš„é¡¹ç›®
- **ç¼ºç‚¹**ï¼š
  - åªé€‚ç”¨äºå­åŸŸååœºæ™¯
  - è®¾ç½®åç«¯å£å·ä¼šé‡ç½®ä¸ºnull
  - å®‰å…¨æ€§é™ä½

```javascript
// é€‚ç”¨äºå­åŸŸåè·¨åŸŸ
// ä¸»é¡µé¢ï¼šhttp://www.example.com
document.domain = 'example.com';

// å­é¡µé¢ï¼šhttp://api.example.com
document.domain = 'example.com';
// ç°åœ¨å¯ä»¥äº’ç›¸è®¿é—®
```

### 3. CORSçš„é¢„æ£€è¯·æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**

**å®šä¹‰ä¸ä½œç”¨ï¼š**
- é¢„æ£€è¯·æ±‚ï¼ˆPreflight Requestï¼‰æ˜¯æµè§ˆå™¨åœ¨å‘é€éç®€å•è·¨åŸŸè¯·æ±‚å‰ï¼Œè‡ªåŠ¨å‘é€çš„OPTIONSè¯·æ±‚
- ç›®çš„æ˜¯è¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥è·¨åŸŸè¯·æ±‚ï¼Œé¿å…å‘é€å®é™…è¯·æ±‚åè¢«æ‹’ç»

**ç®€å•è¯·æ±‚ vs éç®€å•è¯·æ±‚ï¼š**

**ç®€å•è¯·æ±‚ï¼ˆä¸è§¦å‘é¢„æ£€ï¼‰éœ€åŒæ—¶æ»¡è¶³ï¼š**
1. æ–¹æ³•åªèƒ½æ˜¯ï¼šGETã€HEADã€POST
2. è¯·æ±‚å¤´åªèƒ½åŒ…å«ï¼š
   - Accept
   - Accept-Language
   - Content-Language
   - Content-Typeï¼ˆä»…é™ä¸‹é¢ä¸‰ç§ï¼‰
3. Content-Typeåªèƒ½æ˜¯ï¼š
   - application/x-www-form-urlencoded
   - multipart/form-data
   - text/plain

**éç®€å•è¯·æ±‚ï¼ˆè§¦å‘é¢„æ£€ï¼‰çš„æƒ…å†µï¼š**
1. ä½¿ç”¨äº†PUTã€DELETEã€PATCHç­‰æ–¹æ³•
2. Content-Typeä¸ºapplication/json
3. è®¾ç½®äº†è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆå¦‚Authorizationï¼‰

**é¢„æ£€è¯·æ±‚çš„ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨OPTIONSæ–¹æ³•
- åŒ…å«`Access-Control-Request-Method`å¤´ï¼ˆå®é™…è¯·æ±‚æ–¹æ³•ï¼‰
- åŒ…å«`Access-Control-Request-Headers`å¤´ï¼ˆå®é™…è¯·æ±‚å¤´ï¼‰
- ä¸åŒ…å«è¯·æ±‚ä½“

**ä¼˜åŒ–é¢„æ£€è¯·æ±‚ï¼š**
- è®¾ç½®`Access-Control-Max-Age`ç¼“å­˜é¢„æ£€ç»“æœ
- å°½å¯èƒ½ä½¿ç”¨ç®€å•è¯·æ±‚é¿å…é¢„æ£€
- åˆç†è®¾è®¡APIå‡å°‘é¢„æ£€æ¬¡æ•°

**é¢„æ£€è¯·æ±‚æµç¨‹ï¼š**
```javascript
// 1. æµè§ˆå™¨å‘é€é¢„æ£€è¯·æ±‚
OPTIONS /api/data HTTP/1.1
Origin: http://localhost:3000
Access-Control-Request-Method: PUT
Access-Control-Request-Headers: Content-Type,Authorization

// 2. æœåŠ¡å™¨å“åº”
HTTP/1.1 200 OK
Access-Control-Allow-Origin: http://localhost:3000
Access-Control-Allow-Methods: GET,POST,PUT,DELETE
Access-Control-Allow-Headers: Content-Type,Authorization
Access-Control-Max-Age: 86400  // ç¼“å­˜24å°æ—¶

// 3. æµè§ˆå™¨å‘é€å®é™…è¯·æ±‚
PUT /api/data HTTP/1.1
Origin: http://localhost:3000
Content-Type: application/json
Authorization: Bearer token
```

### 4. è·¨åŸŸæºå¸¦Cookieçš„é—®é¢˜ï¼Ÿ

ğŸ“ **é¢è¯•èƒŒè¯µè¦ç‚¹ï¼š**

**é»˜è®¤è¡Œä¸ºï¼š**
- è·¨åŸŸè¯·æ±‚é»˜è®¤ä¸æºå¸¦Cookieå’ŒHTTPè®¤è¯ä¿¡æ¯
- è¿™æ˜¯å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé˜²æ­¢CSRFæ”»å‡»

**æºå¸¦Cookieçš„æ¡ä»¶ï¼ˆå¿…é¡»åŒæ—¶æ»¡è¶³ï¼‰ï¼š**

**1. å®¢æˆ·ç«¯é…ç½®ï¼š**
- fetchï¼šè®¾ç½®`credentials: 'include'`
- XMLHttpRequestï¼šè®¾ç½®`withCredentials = true`
- axiosï¼šè®¾ç½®`withCredentials: true`

**2. æœåŠ¡ç«¯é…ç½®ï¼š**
- å¿…é¡»è®¾ç½®`Access-Control-Allow-Credentials: true`
- `Access-Control-Allow-Origin`ä¸èƒ½æ˜¯é€šé…ç¬¦`*`ï¼Œå¿…é¡»æ˜¯å…·ä½“åŸŸå
- å“åº”å¤´å¿…é¡»åŒ…å«`Set-Cookie`æ—¶çš„`SameSite`å±æ€§è€ƒè™‘

**é‡è¦é™åˆ¶ï¼š**
1. Originä¸èƒ½ä½¿ç”¨`*`ï¼šå½“`Allow-Credentials`ä¸ºtrueæ—¶ï¼Œ`Allow-Origin`å¿…é¡»æ˜¯æ˜ç¡®çš„åŸŸå
2. å®‰å…¨æ€§è€ƒè™‘ï¼šåªå…è®¸ä¿¡ä»»çš„åŸŸåæºå¸¦Cookie
3. Cookieçš„SameSiteå±æ€§ï¼š
   - `SameSite=Strict`ï¼šå®Œå…¨ç¦æ­¢è·¨åŸŸæºå¸¦
   - `SameSite=Lax`ï¼šéƒ¨åˆ†å…è®¸ï¼ˆå¯¼èˆªè¯·æ±‚ï¼‰
   - `SameSite=None`ï¼šå…è®¸è·¨åŸŸï¼ˆéœ€è¦Secureï¼‰

**å¸¸è§é”™è¯¯ï¼š**
- é”™è¯¯ï¼šåŒæ—¶è®¾ç½®`Allow-Origin: *`å’Œ`Allow-Credentials: true`
- é”™è¯¯ï¼šå¿˜è®°åœ¨å®¢æˆ·ç«¯è®¾ç½®credentials
- é”™è¯¯ï¼šCookieè®¾ç½®äº†`SameSite=Strict`

```javascript
// å®¢æˆ·ç«¯é…ç½®
// fetchè¯·æ±‚
fetch('http://api.example.com/data', {
  credentials: 'include' // æºå¸¦cookie
});

// XMLHttpRequest
const xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.open('GET', 'http://api.example.com/data');
xhr.send();

// æœåŠ¡ç«¯é…ç½®
// ä¸èƒ½ä½¿ç”¨é€šé…ç¬¦ *
res.header('Access-Control-Allow-Origin', 'http://localhost:3000');
res.header('Access-Control-Allow-Credentials', 'true');

// åŠ¨æ€è®¾ç½®å…è®¸çš„åŸŸå
const allowedOrigins = ['http://localhost:3000', 'http://localhost:8080'];
const origin = req.headers.origin;
if (allowedOrigins.includes(origin)) {
  res.header('Access-Control-Allow-Origin', origin);
}
res.header('Access-Control-Allow-Credentials', 'true');
```

### 5. è·¨åŸŸé—®é¢˜çš„ç»å…¸é¢è¯•åœºæ™¯ï¼Ÿ

**ç­”æ¡ˆï¼š**

**åœºæ™¯1ï¼šå¼€å‘ç¯å¢ƒè·¨åŸŸé—®é¢˜**
```javascript
// é—®é¢˜ï¼šæœ¬åœ°å¼€å‘æ—¶å‰ç«¯localhost:3000è®¿é—®åç«¯localhost:8080
// è§£å†³æ–¹æ¡ˆï¼šå¼€å‘æœåŠ¡å™¨ä»£ç†

// package.json
{
  "scripts": {
    "dev": "webpack serve --config webpack.dev.js"
  }
}

// webpack.dev.js
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        pathRewrite: {
          '^/api': ''
        }
      }
    }
  }
};
```

**åœºæ™¯2ï¼šç”Ÿäº§ç¯å¢ƒè·¨åŸŸé—®é¢˜**
```javascript
// é—®é¢˜ï¼šå‰ç«¯åŸŸåå’Œåç«¯åŸŸåä¸åŒ
// è§£å†³æ–¹æ¡ˆï¼šCORSé…ç½®

// åç«¯CORSä¸­é—´ä»¶
const cors = require('cors');
app.use(cors({
  origin: ['https://www.example.com', 'https://admin.example.com'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
  allowedHeaders: ['Content-Type', 'Authorization']
}));
```

**åœºæ™¯3ï¼šç¬¬ä¸‰æ–¹APIè·¨åŸŸé—®é¢˜**
```javascript
// é—®é¢˜ï¼šè°ƒç”¨ç¬¬ä¸‰æ–¹APIé‡åˆ°è·¨åŸŸé™åˆ¶
// è§£å†³æ–¹æ¡ˆï¼šåç«¯ä»£ç†

// åç«¯ä»£ç†æ¥å£
app.get('/api/weather', async (req, res) => {
  try {
    const response = await fetch('https://api.weather.com/data', {
      headers: {
        'Authorization': `Bearer ${process.env.WEATHER_API_KEY}`
      }
    });
    const data = await response.json();
    res.json(data);
  } catch (error) {
    res.status(500).json({ error: 'Failed to fetch weather data' });
  }
});
```

**åœºæ™¯4ï¼šWebSocketè·¨åŸŸé—®é¢˜**
```javascript
// é—®é¢˜ï¼šWebSocketè¿æ¥è·¨åŸŸ
// è§£å†³æ–¹æ¡ˆï¼šæœåŠ¡ç«¯è®¾ç½®CORS

const WebSocket = require('ws');
const wss = new WebSocket.Server({
  port: 8080,
  verifyClient: (info) => {
    const origin = info.origin;
    const allowedOrigins = ['http://localhost:3000', 'https://example.com'];
    return allowedOrigins.includes(origin);
  }
});
```

## ä¸‰ã€é¢è¯•é‡ç‚¹æ€»ç»“

### HTTPç¼“å­˜é‡ç‚¹
1. **å¼ºç¼“å­˜æœºåˆ¶**ï¼š
   - Expires vs Cache-Controlçš„åŒºåˆ«
   - max-ageã€no-cacheã€no-storeçš„ä½¿ç”¨åœºæ™¯
   - ç¼“å­˜æ›´æ–°ç­–ç•¥ï¼ˆhashã€ç‰ˆæœ¬å·ï¼‰

2. **åå•†ç¼“å­˜æœºåˆ¶**ï¼š
   - Last-Modified vs ETagçš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯
   - 304çŠ¶æ€ç çš„è§¦å‘æ¡ä»¶
   - åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ç¼“å­˜ç­–ç•¥

3. **ç¼“å­˜ç­–ç•¥é€‰æ‹©**ï¼š
   - é™æ€èµ„æºï¼šå¼ºç¼“å­˜ + hashæŒ‡çº¹
   - HTMLæ–‡ä»¶ï¼šåå•†ç¼“å­˜æˆ–ä¸ç¼“å­˜
   - APIæ¥å£ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©

### è·¨åŸŸé—®é¢˜é‡ç‚¹
1. **å®‰å…¨ç†è§£**ï¼šåŒæºç­–ç•¥çš„ä½œç”¨å’Œå¿…è¦æ€§
2. **è§£å†³æ–¹æ¡ˆ**ï¼šCORSã€JSONPã€ä»£ç†ç­‰æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹
3. **å®è·µåº”ç”¨**ï¼šå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒçš„ä¸åŒå¤„ç†æ–¹å¼
4. **æ·±å…¥ç†è§£**ï¼šé¢„æ£€è¯·æ±‚ã€Cookieå¤„ç†ç­‰ç»†èŠ‚

### å¸¸è§é¢è¯•é—®é¢˜

**ç¼“å­˜ç›¸å…³ï¼š**
1. å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
2. Cache-Controlçš„no-cacheå’Œno-storeæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
3. ä¸ºä»€ä¹ˆéœ€è¦åå•†ç¼“å­˜ï¼Ÿå¼ºç¼“å­˜ä¸å¤Ÿå—ï¼Ÿ
4. ETagå’ŒLast-Modifiedå¯ä»¥åŒæ—¶ä½¿ç”¨å—ï¼Ÿä¼˜å…ˆçº§å¦‚ä½•ï¼Ÿ
5. å¦‚ä½•è§£å†³ç¼“å­˜æ›´æ–°é—®é¢˜ï¼Ÿ
6. åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¦‚ä½•ä¿è¯ç¼“å­˜ä¸€è‡´æ€§ï¼Ÿ
7. from memory cacheå’Œfrom disk cacheçš„åŒºåˆ«ï¼Ÿ

**è·¨åŸŸç›¸å…³ï¼š**
1. ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸé™åˆ¶ï¼ŸåŒæºç­–ç•¥çš„ä½œç”¨ï¼Ÿ
2. CORSå’ŒJSONPçš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯ï¼Ÿ
3. ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„åŒºåˆ«ï¼Ÿ
4. CORSé¢„æ£€è¯·æ±‚ä»€ä¹ˆæ—¶å€™è§¦å‘ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ
5. è·¨åŸŸè¯·æ±‚å¦‚ä½•æºå¸¦Cookieï¼Ÿ
6. å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„è·¨åŸŸå¤„ç†æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ
7. å¦‚ä½•å¤„ç†è·¨åŸŸçš„å›¾ç‰‡ã€å­—ä½“ç­‰é™æ€èµ„æºï¼Ÿ

è¿™äº›çŸ¥è¯†ç‚¹éƒ½æ˜¯å‰ç«¯é¢è¯•ä¸­çš„é«˜é¢‘è€ƒç‚¹ï¼ŒæŒæ¡è¿™äº›å†…å®¹èƒ½å¤Ÿå¸®åŠ©æ‚¨åœ¨é¢è¯•ä¸­æ›´å¥½åœ°å›ç­”ç›¸å…³é—®é¢˜ï¼
